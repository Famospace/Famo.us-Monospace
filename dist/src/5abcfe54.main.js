/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: mark@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2014
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: david@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2014
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: felix@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2014
 */

!function(){var t,e,i;!function(s){function n(t,e){return w.call(t,e)}function o(t,e){var i,s,n,o,r,a,u,h,c,l,p,d=e&&e.split("/"),f=y.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(d=d.slice(0,d.length-1),t=t.split("/"),r=t.length-1,y.nodeIdCompat&&x.test(t[r])&&(t[r]=t[r].replace(x,"")),t=d.concat(t),c=0;c<t.length;c+=1)if(p=t[c],"."===p)t.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||m)&&f){for(i=t.split("/"),c=i.length;c>0;c-=1){if(s=i.slice(0,c).join("/"),d)for(l=d.length;l>0;l-=1)if(n=f[d.slice(0,l).join("/")],n&&(n=n[s])){o=n,a=c;break}if(o)break;!u&&m&&m[s]&&(u=m[s],h=c)}!o&&u&&(o=u,a=h),o&&(i.splice(0,a,o),t=i.join("/"))}return t}function r(t,e){return function(){return d.apply(s,b.call(arguments,0).concat([t,e]))}}function a(t){return function(e){return o(e,t)}}function u(t){return function(e){v[t]=e}}function h(t){if(n(g,t)){var e=g[t];delete g[t],_[t]=!0,p.apply(s,e)}if(!n(v,t)&&!n(_,t))throw new Error("No "+t);return v[t]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function l(t){return function(){return y&&y.config&&y.config[t]||{}}}var p,d,f,m,v={},g={},y={},_={},w=Object.prototype.hasOwnProperty,b=[].slice,x=/\.js$/;f=function(t,e){var i,s=c(t),n=s[0];return t=s[1],n&&(n=o(n,e),i=h(n)),n?t=i&&i.normalize?i.normalize(t,a(e)):o(t,e):(t=o(t,e),s=c(t),n=s[0],t=s[1],n&&(i=h(n))),{f:n?n+"!"+t:t,n:t,pr:n,p:i}},m={require:function(t){return r(t)},exports:function(t){var e=v[t];return"undefined"!=typeof e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:l(t)}}},p=function(t,e,i,o){var a,c,l,p,d,y,w=[],b=typeof i;if(o=o||t,"undefined"===b||"function"===b){for(e=!e.length&&i.length?["require","exports","module"]:e,d=0;d<e.length;d+=1)if(p=f(e[d],o),c=p.f,"require"===c)w[d]=m.require(t);else if("exports"===c)w[d]=m.exports(t),y=!0;else if("module"===c)a=w[d]=m.module(t);else if(n(v,c)||n(g,c)||n(_,c))w[d]=h(c);else{if(!p.p)throw new Error(t+" missing "+c);p.p.load(p.n,r(o,!0),u(c),{}),w[d]=v[c]}l=i?i.apply(v[t],w):void 0,t&&(a&&a.exports!==s&&a.exports!==v[t]?v[t]=a.exports:l===s&&y||(v[t]=l))}else t&&(v[t]=i)},t=e=d=function(t,e,i,n,o){if("string"==typeof t)return m[t]?m[t](e):h(f(t,e).f);if(!t.splice){if(y=t,y.deps&&d(y.deps,y.callback),!e)return;e.splice?(t=e,e=i,i=null):t=s}return e=e||function(){},"function"==typeof i&&(i=n,n=o),n?p(s,t,e,i):setTimeout(function(){p(s,t,e,i)},4),d},d.config=function(t){return d(t)},t._defined=v,i=function(t,e,i){e.splice||(i=e,e=[]),n(v,t)||n(g,t)||(g[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("almond",function(){}),i("famous/core/Entity",["require","exports","module"],function(t,e,i){function s(t){return a[t]}function n(t,e){a[t]=e}function o(t){var e=a.length;return n(e,t),e}function r(t){n(t,null)}var a=[];i.exports={register:o,unregister:r,get:s,set:n}}),i("famous/core/Transform",["require","exports","module"],function(t,e,i){function s(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function n(t){return Math.sqrt(s(t))}function o(t){return 0>t?-1:1}var r={};r.precision=1e-6,r.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.multiply4x4=function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]},r.multiply=function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2],t[1]*e[0]+t[5]*e[1]+t[9]*e[2],t[2]*e[0]+t[6]*e[1]+t[10]*e[2],0,t[0]*e[4]+t[4]*e[5]+t[8]*e[6],t[1]*e[4]+t[5]*e[5]+t[9]*e[6],t[2]*e[4]+t[6]*e[5]+t[10]*e[6],0,t[0]*e[8]+t[4]*e[9]+t[8]*e[10],t[1]*e[8]+t[5]*e[9]+t[9]*e[10],t[2]*e[8]+t[6]*e[9]+t[10]*e[10],0,t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],1]},r.thenMove=function(t,e){return e[2]||(e[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+e[0],t[13]+e[1],t[14]+e[2],1]},r.moveThen=function(t,e){t[2]||(t[2]=0);var i=t[0]*e[0]+t[1]*e[4]+t[2]*e[8],s=t[0]*e[1]+t[1]*e[5]+t[2]*e[9],n=t[0]*e[2]+t[1]*e[6]+t[2]*e[10];return r.thenMove(e,[i,s,n])},r.translate=function(t,e,i){return void 0===i&&(i=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1]},r.thenScale=function(t,e){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],0,e[0]*t[4],e[1]*t[5],e[2]*t[6],0,e[0]*t[8],e[1]*t[9],e[2]*t[10],0,e[0]*t[12],e[1]*t[13],e[2]*t[14],1]},r.scale=function(t,e,i){return void 0===i&&(i=1),[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1]},r.rotateX=function(t){var e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},r.rotateY=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},r.rotateZ=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},r.rotate=function(t,e,i){var s=Math.cos(t),n=Math.sin(t),o=Math.cos(e),r=Math.sin(e),a=Math.cos(i),u=Math.sin(i),h=[o*a,s*u+n*r*a,n*u-s*r*a,0,-o*u,s*a-n*r*u,n*a+s*r*u,0,r,-n*o,s*o,0,0,0,0,1];return h},r.rotateAxis=function(t,e){var i=Math.sin(e),s=Math.cos(e),n=1-s,o=t[0]*t[0]*n,r=t[0]*t[1]*n,a=t[0]*t[2]*n,u=t[1]*t[1]*n,h=t[1]*t[2]*n,c=t[2]*t[2]*n,l=t[0]*i,p=t[1]*i,d=t[2]*i,f=[o+s,r+d,a-p,0,r-d,u+s,h+l,0,a+p,h-l,c+s,0,0,0,0,1];return f},r.aboutOrigin=function(t,e){var i=t[0]-(t[0]*e[0]+t[1]*e[4]+t[2]*e[8]),s=t[1]-(t[0]*e[1]+t[1]*e[5]+t[2]*e[9]),n=t[2]-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]);return r.thenMove(e,[i,s,n])},r.skew=function(t,e,i){return[1,0,0,0,Math.tan(i),1,0,0,Math.tan(e),Math.tan(t),1,0,0,0,0,1]},r.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},r.getTranslate=function(t){return[t[12],t[13],t[14]]},r.inverse=function(t){var e=t[5]*t[10]-t[6]*t[9],i=t[4]*t[10]-t[6]*t[8],s=t[4]*t[9]-t[5]*t[8],n=t[1]*t[10]-t[2]*t[9],o=t[0]*t[10]-t[2]*t[8],r=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],u=t[0]*t[6]-t[2]*t[4],h=t[0]*t[5]-t[1]*t[4],c=t[0]*e-t[1]*i+t[2]*s,l=1/c,p=[l*e,-l*n,l*a,0,-l*i,l*o,-l*u,0,l*s,-l*r,l*h,0,0,0,0,1];return p[12]=-t[12]*p[0]-t[13]*p[4]-t[14]*p[8],p[13]=-t[12]*p[1]-t[13]*p[5]-t[14]*p[9],p[14]=-t[12]*p[2]-t[13]*p[6]-t[14]*p[10],p},r.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},r.interpret=function(t){var e=[t[0],t[1],t[2]],i=o(e[0]),a=n(e),u=[e[0]+i*a,e[1],e[2]],h=2/s(u);if(h>=1/0)return{translate:r.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];c[0]=1-h*u[0]*u[0],c[5]=1-h*u[1]*u[1],c[10]=1-h*u[2]*u[2],c[1]=-h*u[0]*u[1],c[2]=-h*u[0]*u[2],c[6]=-h*u[1]*u[2],c[4]=c[1],c[8]=c[2],c[9]=c[6];var l=r.multiply(c,t),p=[l[5],l[6]],d=o(p[0]),f=n(p),m=[p[0]+d*f,p[1]],v=2/s(m),g=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];g[5]=1-v*m[0]*m[0],g[10]=1-v*m[1]*m[1],g[6]=-v*m[0]*m[1],g[9]=g[6];var y=r.multiply(g,c),_=r.multiply(y,t),w=r.scale(_[0]<0?-1:1,_[5]<0?-1:1,_[10]<0?-1:1);_=r.multiply(_,w),y=r.multiply(w,y);var b={};return b.translate=r.getTranslate(t),b.rotate=[Math.atan2(-y[6],y[10]),Math.asin(y[2]),Math.atan2(-y[1],y[0])],b.rotate[0]||(b.rotate[0]=0,b.rotate[2]=Math.atan2(y[4],y[5])),b.scale=[_[0],_[5],_[10]],b.skew=[Math.atan2(_[9],b.scale[2]),Math.atan2(_[8],b.scale[2]),Math.atan2(_[4],b.scale[0])],Math.abs(b.rotate[0])+Math.abs(b.rotate[2])>1.5*Math.PI&&(b.rotate[1]=Math.PI-b.rotate[1],b.rotate[1]>Math.PI&&(b.rotate[1]-=2*Math.PI),b.rotate[1]<-Math.PI&&(b.rotate[1]+=2*Math.PI),b.rotate[0]<0?b.rotate[0]+=Math.PI:b.rotate[0]-=Math.PI,b.rotate[2]<0?b.rotate[2]+=Math.PI:b.rotate[2]-=Math.PI),b},r.average=function(t,e,i){i=void 0===i?.5:i;for(var s=r.interpret(t),n=r.interpret(e),o={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)o.translate[a]=(1-i)*s.translate[a]+i*n.translate[a],o.rotate[a]=(1-i)*s.rotate[a]+i*n.rotate[a],o.scale[a]=(1-i)*s.scale[a]+i*n.scale[a],o.skew[a]=(1-i)*s.skew[a]+i*n.skew[a];return r.build(o)},r.build=function(t){var e=r.scale(t.scale[0],t.scale[1],t.scale[2]),i=r.skew(t.skew[0],t.skew[1],t.skew[2]),s=r.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return r.thenMove(r.multiply(r.multiply(s,i),e),t.translate)},r.equals=function(t,e){return!r.notEquals(t,e)},r.notEquals=function(t,e){return t===e?!1:t&&e?!(t&&e)||t[12]!==e[12]||t[13]!==e[13]||t[14]!==e[14]||t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[4]!==e[4]||t[5]!==e[5]||t[6]!==e[6]||t[8]!==e[8]||t[9]!==e[9]||t[10]!==e[10]:!0},r.normalizeRotation=function(t){var e=t.slice(0);for((e[0]===.5*Math.PI||e[0]===.5*-Math.PI)&&(e[0]=-e[0],e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]>.5*Math.PI&&(e[0]=e[0]-Math.PI,e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]<.5*-Math.PI&&(e[0]=e[0]+Math.PI,e[1]=-Math.PI-e[1],e[2]-=Math.PI);e[1]<-Math.PI;)e[1]+=2*Math.PI;for(;e[1]>=Math.PI;)e[1]-=2*Math.PI;for(;e[2]<-Math.PI;)e[2]+=2*Math.PI;for(;e[2]>=Math.PI;)e[2]-=2*Math.PI;return e},r.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1],r.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1],i.exports=r}),i("famous/core/SpecParser",["require","exports","module","./Transform"],function(t,e,i){function s(){this.result={}}function n(t,e){return[t[0]*e[0]+t[1]*e[4]+t[2]*e[8],t[0]*e[1]+t[1]*e[5]+t[2]*e[9],t[0]*e[2]+t[1]*e[6]+t[2]*e[10]]}var o=t("./Transform");s._instance=new s,s.parse=function(t,e){return s._instance.parse(t,e)},s.prototype.parse=function(t,e){return this.reset(),this._parseSpec(t,e,o.identity),this.result},s.prototype.reset=function(){this.result={}};var r=[0,0];s.prototype._parseSpec=function(t,e,i){var s,a,u,h,c,l;if("number"==typeof t){if(s=t,u=e.transform,e.size&&e.origin&&(e.origin[0]||e.origin[1])){var p=[e.origin[0]*e.size[0],e.origin[1]*e.size[1],0];u=o.thenMove(u,n(p,i))}this.result[s]={transform:u,opacity:e.opacity,origin:e.origin||r,size:e.size}}else{if(!t)return;if(t instanceof Array)for(var d=0;d<t.length;d++)this._parseSpec(t[d],e,i);else{a=t.target,u=e.transform,h=e.opacity,c=e.origin,l=e.size;var f=i;if(void 0!==t.opacity&&(h=e.opacity*t.opacity),t.transform&&(u=o.multiply(e.transform,t.transform)),t.origin&&(c=t.origin,f=e.transform),t.size){var m=e.size;l=[void 0!==t.size[0]?t.size[0]:m[0],void 0!==t.size[1]?t.size[1]:m[1]],m&&c&&(c[0]||c[1])&&(u=o.thenMove(u,n([c[0]*m[0],c[1]*m[1],0],i)),u=o.moveThen([-c[0]*l[0],-c[1]*l[1],0],u)),f=e.transform,c=null}this._parseSpec(a,{transform:u,opacity:h,origin:c,size:l},f)}}},i.exports=s}),i("famous/core/RenderNode",["require","exports","module","./Entity","./SpecParser"],function(t,e,i){function s(t){this._object=null,this._child=null,this._hasMultipleChildren=!1,this._isRenderable=!1,this._isModifier=!1,this._resultCache={},this._prevResults={},this._childResult=null,t&&this.set(t)}function n(t,e,i){for(var s=r.parse(t,e),a=Object.keys(s),u=0;u<a.length;u++){var h=a[u],c=o.get(h),l=s[h];l.allocator=e.allocator;var p=c.commit(l);p?n(p,e,i):i[h]=l}}var o=t("./Entity"),r=t("./SpecParser");s.prototype.add=function(t){var e=t instanceof s?t:new s(t);return this._child instanceof Array?this._child.push(e):this._child?(this._child=[this._child,e],this._hasMultipleChildren=!0,this._childResult=[]):this._child=e,e},s.prototype.get=function(){return this._object||(this._hasMultipleChildren?null:this._child?this._child.get():null)},s.prototype.set=function(t){return this._childResult=null,this._hasMultipleChildren=!1,this._isRenderable=t.render?!0:!1,this._isModifier=t.modify?!0:!1,this._object=t,this._child=null,t instanceof s?t:this},s.prototype.getSize=function(){var t=null,e=this.get();return e&&e.getSize&&(t=e.getSize()),!t&&this._child&&this._child.getSize&&(t=this._child.getSize()),t},s.prototype.commit=function(t){for(var e=Object.keys(this._prevResults),i=0;i<e.length;i++){var s=e[i];if(void 0===this._resultCache[s]){var r=o.get(s);r.cleanup&&r.cleanup(t.allocator)}}this._prevResults=this._resultCache,this._resultCache={},n(this.render(),t,this._resultCache)},s.prototype.render=function(){if(this._isRenderable)return this._object.render();var t=null;if(this._hasMultipleChildren){t=this._childResult;for(var e=this._child,i=0;i<e.length;i++)t[i]=e[i].render()}else this._child&&(t=this._child.render());return this._isModifier?this._object.modify(t):t},i.exports=s}),i("famous/core/EventEmitter",["require","exports","module"],function(t,e,i){function s(){this.listeners={},this._owner=this}s.prototype.emit=function(t,e){var i=this.listeners[t];if(i)for(var s=0;s<i.length;s++)i[s].call(this._owner,e);return this},s.prototype.on=function(t,e){t in this.listeners||(this.listeners[t]=[]);var i=this.listeners[t].indexOf(e);return 0>i&&this.listeners[t].push(e),this},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(t,e){var i=this.listeners[t].indexOf(e);return i>=0&&this.listeners[t].splice(i,1),this},s.prototype.bindThis=function(t){this._owner=t},i.exports=s}),i("famous/core/EventHandler",["require","exports","module","./EventEmitter"],function(t,e,i){function s(){n.apply(this,arguments),this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={}}var n=t("./EventEmitter");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.setInputHandler=function(t,e){t.trigger=e.trigger.bind(e),e.subscribe&&e.unsubscribe&&(t.subscribe=e.subscribe.bind(e),t.unsubscribe=e.unsubscribe.bind(e))},s.setOutputHandler=function(t,e){e instanceof s&&e.bindThis(t),t.pipe=e.pipe.bind(e),t.unpipe=e.unpipe.bind(e),t.on=e.on.bind(e),t.addListener=e.on,t.removeListener=e.removeListener.bind(e)},s.prototype.emit=function(t,e){n.prototype.emit.apply(this,arguments);var i=0;for(i=0;i<this.downstream.length;i++)this.downstream[i].trigger&&this.downstream[i].trigger(t,e);for(i=0;i<this.downstreamFn.length;i++)this.downstreamFn[i](t,e);return this},s.prototype.trigger=s.prototype.emit,s.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream,i=e.indexOf(t);return 0>i&&e.push(t),t instanceof Function?t("pipe",null):t.trigger&&t.trigger("pipe",null),t},s.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream,i=e.indexOf(t);return i>=0?(e.splice(i,1),t instanceof Function?t("unpipe",null):t.trigger&&t.trigger("unpipe",null),t):!1},s.prototype.on=function(t){if(n.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var e=this.trigger.bind(this,t);this.upstreamListeners[t]=e;for(var i=0;i<this.upstream.length;i++)this.upstream[i].on(t,e)}return this},s.prototype.addListener=s.prototype.on,s.prototype.subscribe=function(t){var e=this.upstream.indexOf(t);if(0>e){this.upstream.push(t);for(var i in this.upstreamListeners)t.on(i,this.upstreamListeners[i])}return this},s.prototype.unsubscribe=function(t){var e=this.upstream.indexOf(t);if(e>=0){this.upstream.splice(e,1);for(var i in this.upstreamListeners)t.removeListener(i,this.upstreamListeners[i])}return this},i.exports=s}),i("famous/core/ElementAllocator",["require","exports","module"],function(t,e,i){function s(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}s.prototype.migrate=function(t){var e=this.container;if(t!==e){if(e instanceof DocumentFragment)t.appendChild(e);else for(;e.hasChildNodes();)t.appendChild(e.removeChild(e.firstChild));this.container=t}},s.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var e,i=this.detachedNodes[t];return i.length>0?e=i.pop():(e=document.createElement(t),this.container.appendChild(e)),this.nodeCount++,e},s.prototype.deallocate=function(t){var e=t.nodeName.toLowerCase(),i=this.detachedNodes[e];i.push(t),this.nodeCount--},s.prototype.getNodeCount=function(){return this.nodeCount},i.exports=s}),i("famous/utilities/Utility",["require","exports","module"],function(t,e,i){var s={};s.Direction={X:0,Y:1,Z:2},s.after=function(t,e){var i=t;return function(){i--,0===i&&e.apply(this,arguments)}},s.loadURL=function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&e&&e(this.responseText)},i.open("GET",t),i.send()},s.createDocumentFragmentFromHTML=function(t){var e=document.createElement("div");e.innerHTML=t;for(var i=document.createDocumentFragment();e.hasChildNodes();)i.appendChild(e.firstChild);return i},i.exports=s}),i("famous/transitions/MultipleTransition",["require","exports","module","famous/utilities/Utility"],function(t,e,i){function s(t){this.method=t,this._instances=[],this.state=[]}var n=t("famous/utilities/Utility");s.SUPPORTS_MULTIPLE=!0,s.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},s.prototype.set=function(t,e,i){for(var s=n.after(t.length,i),o=0;o<t.length;o++)this._instances[o]||(this._instances[o]=new this.method),this._instances[o].set(t[o],e,s)},s.prototype.reset=function(t){for(var e=0;e<t.length;e++)this._instances[e]||(this._instances[e]=new this.method),this._instances[e].reset(t[e])},i.exports=s}),i("famous/transitions/TweenTransition",["require","exports","module"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function n(t,e,i){return(1-i)*t+i*e}function o(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function r(t,e){var i={curve:e.curve};return e.duration&&(i.duration=e.duration),e.speed&&(i.speed=e.speed),t instanceof Object&&(void 0!==t.duration&&(i.duration=t.duration),t.curve&&(i.curve=t.curve),t.speed&&(i.speed=t.speed)),"string"==typeof i.curve&&(i.curve=s.getCurve(i.curve)),i}function a(t,e,i,s,n){var o,r=1e-7,a=(i(n)-i(n-r))/r;if(t instanceof Array){o=[];for(var u=0;u<t.length;u++)o[u]=a*(t[u]-e[u])/s}else o=a*(t-e)/s;return o}function u(t,e,i){var s;if(t instanceof Array){s=[];for(var o=0;o<t.length;o++)s[o]=n(t[o],e[o],i)}else s=n(t,e,i);return s}s.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},s.SUPPORTS_MULTIPLE=!0,s.DEFAULT_OPTIONS={curve:s.Curves.linear,duration:500,speed:0};var h={};s.registerCurve=function(t,e){return h[t]?!1:(h[t]=e,!0)},s.unregisterCurve=function(t){return h[t]?(delete h[t],!0):!1},s.getCurve=function(t){return h[t]},s.getCurves=function(){return h},s.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},s.prototype.set=function(t,e,i){if(!e)return this.reset(t),void(i&&i());if(this._startValue=o(this.get()),e=r(e,this.options),e.speed){var s=this._startValue;if(s instanceof Object){var n=0;for(var a in s)n+=(t[a]-s[a])*(t[a]-s[a]);e.duration=Math.sqrt(n)/e.speed}else e.duration=Math.abs(t-s)/e.speed}this._startTime=Date.now(),this._endValue=o(t),this._startVelocity=o(e.velocity),this._duration=e.duration,this._curve=e.curve,this._active=!0,this._callback=i},s.prototype.reset=function(t,e){if(this._callback){var i=this._callback;this._callback=void 0,i()}this.state=o(t),this.velocity=o(e),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},s.prototype.getVelocity=function(){return this.velocity},s.prototype.get=function(t){return this.update(t),this.state},s.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var e=t-this._startTime;if(e>=this._duration)this.state=this._endValue,this.velocity=a(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(0>e)this.state=this._startValue,this.velocity=this._startVelocity;else{var i=e/this._duration;this.state=u(this._startValue,this._endValue,this._curve(i)),this.velocity=a(this.state,this._startValue,this._curve,this._duration,i)}}}else if(this._callback){var s=this._callback;this._callback=void 0,s()}},s.prototype.isActive=function(){return this._active},s.prototype.halt=function(){this.reset(this.get())},s.registerCurve("linear",s.Curves.linear),s.registerCurve("easeIn",s.Curves.easeIn),s.registerCurve("easeOut",s.Curves.easeOut),s.registerCurve("easeInOut",s.Curves.easeInOut),s.registerCurve("easeOutBounce",s.Curves.easeOutBounce),s.registerCurve("spring",s.Curves.spring),s.customCurve=function(t,e){return t=t||0,e=e||0,function(i){return t*i+(-2*t-e+3)*i*i+(t+e-2)*i*i*i}},i.exports=s}),i("famous/transitions/Transitionable",["require","exports","module","./MultipleTransition","./TweenTransition"],function(t,e,i){function s(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function n(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return void this.set(this.get());this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var e=null,i=this.currentAction[0],s=this.currentAction[1];s instanceof Object&&s.method?(e=s.method,"string"==typeof e&&(e=a[e])):e=r,this._currentMethod!==e&&(this._engineInstance=!(i instanceof Object)||e.SUPPORTS_MULTIPLE===!0||i.length<=e.SUPPORTS_MULTIPLE?new e:new o(e),this._currentMethod=e),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(s.velocity=this.velocity),this._engineInstance.set(i,s,n.bind(this))}var o=t("./MultipleTransition"),r=t("./TweenTransition"),a={};s.registerMethod=function(t,e){return t in a?!1:(a[t]=e,!0)},s.unregisterMethod=function(t){return t in a?(delete a[t],!0):!1},s.prototype.set=function(t,e,i){if(!e)return this.reset(t),i&&i(),this;var s=[t,e];return this.actionQueue.push(s),this.callbackQueue.push(i),this.currentAction||n.call(this),this},s.prototype.reset=function(t,e){this._currentMethod=null,this._engineInstance=null,this.state=t,this.velocity=e,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},s.prototype.delay=function(t,e){this.set(this._engineInstance.get(),{duration:t,curve:function(){return 0}},e)},s.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},s.prototype.isActive=function(){return!!this.currentAction},s.prototype.halt=function(){this.set(this.get())},i.exports=s}),i("famous/core/Context",["require","exports","module","./RenderNode","./EventHandler","./ElementAllocator","./Transform","famous/transitions/Transitionable"],function(t,e,i){function s(t){return[t.clientWidth,t.clientHeight]}function n(t){this.container=t,this._allocator=new a(t),this._node=new o,this._eventOutput=new r,this._size=s(this.container),this._perspectiveState=new h(0),this._perspective=void 0,this._nodeContext={allocator:this._allocator,transform:u.identity,opacity:1,origin:c,size:this._size},this._eventOutput.on("resize",function(){this.setSize(s(this.container))}.bind(this))}var o=t("./RenderNode"),r=t("./EventHandler"),a=t("./ElementAllocator"),u=t("./Transform"),h=t("famous/transitions/Transitionable"),c=[0,0];n.prototype.getAllocator=function(){return this._allocator},n.prototype.add=function(t){return this._node.add(t)},n.prototype.migrate=function(t){t!==this.container&&(this.container=t,this._allocator.migrate(t))},n.prototype.getSize=function(){return this._size},n.prototype.setSize=function(t){t||(t=s(this.container)),this._size[0]=t[0],this._size[1]=t[1]},n.prototype.update=function(t){t&&(t.transform&&(this._nodeContext.transform=t.transform),t.opacity&&(this._nodeContext.opacity=t.opacity),t.origin&&(this._nodeContext.origin=t.origin),t.size&&(this._nodeContext.size=t.size));var e=this._perspectiveState.get();e!==this._perspective&&(this.container.style.perspective=e?e.toFixed()+"px":"",this.container.style.webkitPerspective=e?e.toFixed():"",this._perspective=e),this._node.commit(this._nodeContext)},n.prototype.getPerspective=function(){return this._perspectiveState.get()},n.prototype.setPerspective=function(t,e,i){return this._perspectiveState.set(t,e,i)},n.prototype.emit=function(t,e){return this._eventOutput.emit(t,e)},n.prototype.on=function(t,e){return this._eventOutput.on(t,e)},n.prototype.removeListener=function(t,e){return this._eventOutput.removeListener(t,e)},n.prototype.pipe=function(t){return this._eventOutput.pipe(t)},n.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},i.exports=n}),i("famous/core/OptionsManager",["require","exports","module","./EventHandler"],function(t,e,i){function s(t){this._value=t,this.eventOutput=null}function n(){this.eventOutput=new o,this.eventOutput.bindThis(this),o.setOutputHandler(this,this.eventOutput)}var o=t("./EventHandler");s.patch=function(t){for(var e=new s(t),i=1;i<arguments.length;i++)e.patch(arguments[i]);return t},s.prototype.patch=function(){for(var t=this._value,e=0;e<arguments.length;e++){var i=arguments[e];for(var s in i)s in t&&i[s]&&i[s].constructor===Object&&t[s]&&t[s].constructor===Object?(t.hasOwnProperty(s)||(t[s]=Object.create(t[s])),this.key(s).patch(i[s]),this.eventOutput&&this.eventOutput.emit("change",{id:s,value:this.key(s).value()})):this.set(s,i[s])}return this},s.prototype.setOptions=s.prototype.patch,s.prototype.key=function(t){var e=new s(this._value[t]);return(!(e._value instanceof Object)||e._value instanceof Array)&&(e._value={}),e},s.prototype.get=function(t){return this._value[t]},s.prototype.getOptions=s.prototype.get,s.prototype.set=function(t,e){var i=this.get(t);return this._value[t]=e,this.eventOutput&&e!==i&&this.eventOutput.emit("change",{id:t,value:e}),this},s.prototype.value=function(){return this._value},s.prototype.on=function(){return n.call(this),this.on.apply(this,arguments)},s.prototype.removeListener=function(){return n.call(this),this.removeListener.apply(this,arguments)},s.prototype.pipe=function(){return n.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return n.call(this),this.unpipe.apply(this,arguments)},i.exports=s}),i("famous/core/Engine",["require","exports","module","./Context","./EventHandler","./OptionsManager"],function(t,e,i){function s(){y.runLoop?(c.step(),requestAnimationFrame(s)):m=!1}function n(){for(var t=0;t<l.length;t++)l[t].emit("resize");g.emit("resize")}var o,r,a=t("./Context"),u=t("./EventHandler"),h=t("./OptionsManager"),c={},l=[],p=[],d=[],f=Date.now(),m=!0,v={},g=new u,y={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0},_=new h(y),w=10;c.step=function(){var t=Date.now();if(!(r&&r>t-f)){var e=0;for(o=t-f,f=t,g.emit("prerender"),e=0;e<p.length;e++)p[e].call(this);for(p.splice(0);d.length&&Date.now()-t<w;)d.shift().call(this);for(e=0;e<l.length;e++)l[e].update();g.emit("postrender")}},requestAnimationFrame(s),window.addEventListener("resize",n,!1),n(),window.addEventListener("touchmove",function(t){t.preventDefault()},!0),c.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(c):g.pipe(t)},c.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(c):g.unpipe(t)},c.on=function(t,e){return t in v||(v[t]=g.emit.bind(g,t),document.body.addEventListener(t,v[t])),g.on(t,e)},c.emit=function(t,e){return g.emit(t,e)},c.removeListener=function(t,e){return g.removeListener(t,e)},c.getFPS=function(){return 1e3/o},c.setFPSCap=function(t){r=Math.floor(1e3/t)},c.getOptions=function(){return _.getOptions.apply(_,arguments)},c.setOptions=function(){return _.setOptions.apply(_,arguments)},c.createContext=function(t){if(void 0===t)t=document.createElement(y.containerType),t.classList.add(y.containerClass),document.body.appendChild(t);else if(!(t instanceof Element))throw t=document.createElement(y.containerType),new Error("Tried to create context on non-existent element");var e=new a(t);return c.registerContext(e),e},c.registerContext=function(t){return l.push(t),t},c.nextTick=function(t){p.push(t)},c.defer=function(t){d.push(t)},_.on("change",function(t){"fpsCap"===t.id?c.setFPSCap(t.value):"runLoop"===t.id&&!m&&t.value&&(m=!0,requestAnimationFrame(s))}),i.exports=c}),i("famous/transitions/TransitionableTransform",["require","exports","module","./Transitionable","famous/core/Transform","famous/utilities/Utility"],function(t,e,i){function s(t){this._final=r.identity.slice(),this.translate=new o([0,0,0]),this.rotate=new o([0,0,0]),this.skew=new o([0,0,0]),this.scale=new o([1,1,1]),t&&this.set(t)}function n(){return r.build({translate:this.translate.get(),rotate:this.rotate.get(),skew:this.skew.get(),scale:this.scale.get()})}var o=t("./Transitionable"),r=t("famous/core/Transform"),a=t("famous/utilities/Utility");s.prototype.setTranslate=function(t,e,i){return this.translate.set(t,e,i),this._final=this._final.slice(),this._final[12]=t[0],this._final[13]=t[1],void 0!==t[2]&&(this._final[14]=t[2]),this},s.prototype.setScale=function(t,e,i){return this.scale.set(t,e,i),this._final=this._final.slice(),this._final[0]=t[0],this._final[5]=t[1],void 0!==t[2]&&(this._final[10]=t[2]),this},s.prototype.setRotate=function(t,e,i){return this.rotate.set(t,e,i),this._final=n.call(this),this._final=r.build({translate:this.translate.get(),rotate:t,scale:this.scale.get(),skew:this.skew.get()}),this},s.prototype.setSkew=function(t,e,i){return this.skew.set(t,e,i),this._final=r.build({translate:this.translate.get(),rotate:this.rotate.get(),scale:this.scale.get(),skew:t}),this},s.prototype.set=function(t,e,i){this._final=t;var s=r.interpret(t),n=i?a.after(4,i):null;return this.translate.set(s.translate,e,n),this.rotate.set(s.rotate,e,n),this.skew.set(s.skew,e,n),this.scale.set(s.scale,e,n),this},s.prototype.setDefaultTransition=function(t){this.translate.setDefault(t),this.rotate.setDefault(t),this.skew.setDefault(t),this.scale.setDefault(t)},s.prototype.get=function(){return this.isActive()?n.call(this):this._final},s.prototype.getFinal=function(){return this._final},s.prototype.isActive=function(){return this.translate.isActive()||this.rotate.isActive()||this.scale.isActive()||this.skew.isActive()},s.prototype.halt=function(){this._final=this.get(),this.translate.halt(),this.rotate.halt(),this.skew.halt(),this.scale.halt()},i.exports=s}),i("famous/core/Modifier",["require","exports","module","./Transform","famous/transitions/Transitionable","famous/transitions/TransitionableTransform"],function(t,e,i){function s(t){this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._sizeGetter=null,this._legacyStates={},this._output={transform:o.identity,opacity:1,origin:null,size:null,target:null},t&&(t.transform&&this.transformFrom(t.transform),void 0!==t.opacity&&this.opacityFrom(t.opacity),t.origin&&this.originFrom(t.origin),t.size&&this.sizeFrom(t.size))}function n(){this._transformGetter&&(this._output.transform=this._transformGetter()),this._opacityGetter&&(this._output.opacity=this._opacityGetter()),this._originGetter&&(this._output.origin=this._originGetter()),this._sizeGetter&&(this._output.size=this._sizeGetter())}var o=t("./Transform"),r=t("famous/transitions/Transitionable"),a=t("famous/transitions/TransitionableTransform");s.prototype.transformFrom=function(t){return t instanceof Function?this._transformGetter=t:t instanceof Object&&t.get?this._transformGetter=t.get.bind(t):(this._transformGetter=null,this._output.transform=t),this
},s.prototype.opacityFrom=function(t){return t instanceof Function?this._opacityGetter=t:t instanceof Object&&t.get?this._opacityGetter=t.get.bind(t):(this._opacityGetter=null,this._output.opacity=t),this},s.prototype.originFrom=function(t){return t instanceof Function?this._originGetter=t:t instanceof Object&&t.get?this._originGetter=t.get.bind(t):(this._originGetter=null,this._output.origin=t),this},s.prototype.sizeFrom=function(t){return t instanceof Function?this._sizeGetter=t:t instanceof Object&&t.get?this._sizeGetter=t.get.bind(t):(this._sizeGetter=null,this._output.size=t),this},s.prototype.setTransform=function(t,e,i){return e||this._legacyStates.transform?(this._legacyStates.transform||(this._legacyStates.transform=new a(this._output.transform)),this._transformGetter||this.transformFrom(this._legacyStates.transform),this._legacyStates.transform.set(t,e,i),this):this.transformFrom(t)},s.prototype.setOpacity=function(t,e,i){return e||this._legacyStates.opacity?(this._legacyStates.opacity||(this._legacyStates.opacity=new r(this._output.opacity)),this._opacityGetter||this.opacityFrom(this._legacyStates.opacity),this._legacyStates.opacity.set(t,e,i)):this.opacityFrom(t)},s.prototype.setOrigin=function(t,e,i){return e||this._legacyStates.origin?(this._legacyStates.origin||(this._legacyStates.origin=new r(this._output.origin||[0,0])),this._originGetter||this.originFrom(this._legacyStates.origin),this._legacyStates.origin.set(t,e,i),this):this.originFrom(t)},s.prototype.setSize=function(t,e,i){return t&&(e||this._legacyStates.size)?(this._legacyStates.size||(this._legacyStates.size=new r(this._output.size||[0,0])),this._sizeGetter||this.sizeFrom(this._legacyStates.size),this._legacyStates.size.set(t,e,i),this):this.sizeFrom(t)},s.prototype.halt=function(){this._legacyStates.transform&&this._legacyStates.transform.halt(),this._legacyStates.opacity&&this._legacyStates.opacity.halt(),this._legacyStates.origin&&this._legacyStates.origin.halt(),this._legacyStates.size&&this._legacyStates.size.halt(),this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._sizeGetter=null},s.prototype.getTransform=function(){return this._transformGetter()},s.prototype.getFinalTransform=function(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform},s.prototype.getOpacity=function(){return this._opacityGetter()},s.prototype.getOrigin=function(){return this._originGetter()},s.prototype.getSize=function(){return this._sizeGetter?this._sizeGetter():this._output.size},s.prototype.modify=function(t){return n.call(this),this._output.target=t,this._output},i.exports=s}),i("famous/core/View",["require","exports","module","./EventHandler","./OptionsManager","./RenderNode"],function(t,e,i){function s(t){this._node=new r,this._eventInput=new n,this._eventOutput=new n,n.setInputHandler(this,this._eventInput),n.setOutputHandler(this,this._eventOutput),this.options=Object.create(this.constructor.DEFAULT_OPTIONS||s.DEFAULT_OPTIONS),this._optionsManager=new o(this.options),t&&this.setOptions(t)}var n=t("./EventHandler"),o=t("./OptionsManager"),r=t("./RenderNode");s.DEFAULT_OPTIONS={},s.prototype.getOptions=function(){return this._optionsManager.value()},s.prototype.setOptions=function(t){this._optionsManager.patch(t)},s.prototype.add=function(){return this._node.add.apply(this._node,arguments)},s.prototype._add=s.prototype.add,s.prototype.render=function(){return this._node.render()},s.prototype.getSize=function(){return this._node&&this._node.getSize?this._node.getSize.apply(this._node,arguments)||this.options.size:this.options.size},i.exports=s}),i("famous/core/Surface",["require","exports","module","./Entity","./EventHandler","./Transform"],function(t,e,i){function s(t){this.options={},this.properties={},this.content="",this.classList=[],this.size=null,this._classesDirty=!0,this._stylesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._dirtyClasses=[],this._matrix=null,this._opacity=1,this._origin=null,this._size=null,this.eventForwarder=function(t){this.emit(t.type,t)}.bind(this),this.eventHandler=new d,this.eventHandler.bindThis(this),this.id=p.register(this),t&&this.setOptions(t),this._currTarget=null}function n(t){for(var e in this.eventHandler.listeners)t.addEventListener(e,this.eventForwarder)}function o(t){for(var e in this.eventHandler.listeners)t.removeEventListener(e,this.eventForwarder)}function r(t){for(var e=0;e<this._dirtyClasses.length;e++)t.classList.remove(this._dirtyClasses[e]);this._dirtyClasses=[]}function a(t){for(var e in this.properties)t.style[e]=this.properties[e]}function u(t){for(var e in this.properties)t.style[e]=""}function h(t){t[12]=Math.round(t[12]*v)/v,t[13]=Math.round(t[13]*v)/v;for(var e="matrix3d(",i=0;15>i;i++)e+=t[i]<1e-6&&t[i]>-1e-6?"0,":t[i]+",";return e+=t[15]+")"}function c(t){return(100*t[0]).toFixed(6)+"% "+(100*t[1]).toFixed(6)+"%"}function l(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]:t!==e}var p=t("./Entity"),d=t("./EventHandler"),f=t("./Transform"),m=void 0!==document.body.style.webkitTransform,v=window.devicePixelRatio||1;s.prototype.elementType="div",s.prototype.elementClass="famous-surface",s.prototype.on=function(t,e){this._currTarget&&this._currTarget.addEventListener(t,this.eventForwarder),this.eventHandler.on(t,e)},s.prototype.removeListener=function(t,e){this.eventHandler.removeListener(t,e)},s.prototype.emit=function(t,e){e&&!e.origin&&(e.origin=this);var i=this.eventHandler.emit(t,e);return i&&e&&e.stopPropagation&&e.stopPropagation(),i},s.prototype.pipe=function(t){return this.eventHandler.pipe(t)},s.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},s.prototype.render=function(){return this.id},s.prototype.setProperties=function(t){for(var e in t)this.properties[e]=t[e];this._stylesDirty=!0},s.prototype.getProperties=function(){return this.properties},s.prototype.addClass=function(t){this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0)},s.prototype.removeClass=function(t){var e=this.classList.indexOf(t);e>=0&&(this._dirtyClasses.push(this.classList.splice(e,1)[0]),this._classesDirty=!0)},s.prototype.setClasses=function(t){var e=0,i=[];for(e=0;e<this.classList.length;e++)t.indexOf(this.classList[e])<0&&i.push(this.classList[e]);for(e=0;e<i.length;e++)this.removeClass(i[e]);for(e=0;e<t.length;e++)this.addClass(t[e])},s.prototype.getClassList=function(){return this.classList},s.prototype.setContent=function(t){this.content!==t&&(this.content=t,this._contentDirty=!0)},s.prototype.getContent=function(){return this.content},s.prototype.setOptions=function(t){t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.content&&this.setContent(t.content)};var g;g=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?function(t,e){t.style.zIndex=1e6*e[14]|0,t.style.transform=h(e)}:m?function(t,e){t.style.webkitTransform=h(e)}:function(t,e){t.style.transform=h(e)};var y=m?function(t,e){t.style.webkitTransformOrigin=c(e)}:function(t,e){t.style.transformOrigin=c(e)},_=m?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,1)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,1)",t.style.opacity=0};s.prototype.setup=function(t){var e=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var i=0;i<this.elementClass.length;i++)e.classList.add(this.elementClass[i]);else e.classList.add(this.elementClass);e.style.display="",n.call(this,e),y(e,[0,0]),this._currTarget=e,this._stylesDirty=!0,this._classesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._matrix=null,this._opacity=void 0,this._origin=null,this._size=null},s.prototype.commit=function(t){this._currTarget||this.setup(t.allocator);var e=this._currTarget,i=t.transform,s=t.opacity,n=t.origin,o=t.size;if(this.size){var u=o;o=[this.size[0],this.size[1]],void 0===o[0]&&u[0]&&(o[0]=u[0]),void 0===o[1]&&u[1]&&(o[1]=u[1])}if(l(this._size,o)&&(this._size=[o[0],o[1]],this._sizeDirty=!0),!i&&this._matrix)return this._matrix=null,this._opacity=0,void _(e);if(this._opacity!==s&&(this._opacity=s,e.style.opacity=s>=1?"0.999999":s),l(this._origin,n)||f.notEquals(this._matrix,i)){i||(i=f.identity),this._matrix=i;var h=i;n&&(this._origin||(this._origin=[0,0]),this._origin[0]=n[0],this._origin[1]=n[1],h=f.moveThen([-this._size[0]*n[0],-this._size[1]*n[1],0],i)),g(e,h)}if(this._classesDirty||this._stylesDirty||this._sizeDirty||this._contentDirty){if(this._classesDirty){r.call(this,e);for(var c=this.getClassList(),p=0;p<c.length;p++)e.classList.add(c[p]);this._classesDirty=!1}this._stylesDirty&&(a.call(this,e),this._stylesDirty=!1),this._sizeDirty&&(this._size&&(e.style.width=this._size[0]!==!0?this._size[0]+"px":"",e.style.height=this._size[1]!==!0?this._size[1]+"px":""),this._sizeDirty=!1),this._contentDirty&&(this.deploy(e),this.eventHandler.emit("deploy"),this._contentDirty=!1)}},s.prototype.cleanup=function(t){var e=0,i=this._currTarget;this.eventHandler.emit("recall"),this.recall(i),i.style.display="none",i.style.width="",i.style.height="",this._size=null,u.call(this,i);var s=this.getClassList();for(r.call(this,i),e=0;e<s.length;e++)i.classList.remove(s[e]);if(this.elementClass)if(this.elementClass instanceof Array)for(e=0;e<this.elementClass.length;e++)i.classList.remove(this.elementClass[e]);else i.classList.remove(this.elementClass);o.call(this,i),this._currTarget=null,t.deallocate(i),_(i)},s.prototype.deploy=function(t){var e=this.getContent();if(e instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}else t.innerHTML=e},s.prototype.recall=function(t){for(var e=document.createDocumentFragment();t.hasChildNodes();)e.appendChild(t.firstChild);this.setContent(e)},s.prototype.getSize=function(t){return t?this._size:this.size||this._size},s.prototype.setSize=function(t){this.size=t?[t[0],t[1]]:null,this._sizeDirty=!0},i.exports=s}),i("famous/utilities/Timer",["require","exports","module","famous/core/Engine"],function(t,e,i){function s(t){return c.on(l,t),t}function n(t,e){var i=p(),n=function(){var s=p();s-i>=e&&(t.apply(this,arguments),c.removeListener(l,n))};return s(n)}function o(t,e){var i=p(),n=function(){var s=p();s-i>=e&&(t.apply(this,arguments),i=p())};return s(n)}function r(t,e){if(void 0===e)return void 0;var i=function(){e--,0>=e&&(t.apply(this,arguments),u(i))};return s(i)}function a(t,e){e=e||1;var i=e,n=function(){e--,0>=e&&(t.apply(this,arguments),e=i)};return s(n)}function u(t){c.removeListener(l,t)}function h(t,e){var i,s,o,r,a;return function(){s=this,a=arguments,o=p();var u=function(){var h=p-o;e>h?i=n(u,e-h):(i=null,r=t.apply(s,a))};return i||(i=n(u,e)),r}}var c=t("famous/core/Engine"),l="prerender",p=window.performance?function(){return window.performance.now()}:function(){return Date.now()};i.exports={setTimeout:n,setInterval:o,debounce:h,after:r,every:a,clear:u}}),i("views/FpsMeterView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Modifier","famous/core/Engine","famous/utilities/Timer","famous/core/Transform"],function(t,e,i){var s,n,o,r,a,u,h,c=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty,p=function(t,e){function i(){this.constructor=t}for(var s in e)l.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};h=t("famous/core/View"),r=t("famous/core/Surface"),o=t("famous/core/Modifier"),s=t("famous/core/Engine"),a=t("famous/utilities/Timer"),u=t("famous/core/Transform"),n=function(t){function e(){this.update=c(this.update,this),this.toggleState=c(this.toggleState,this),this.tick=c(this.tick,this),e.__super__.constructor.apply(this,arguments),this.initTime(),this.surface=new r({size:[60,20],classes:["fpsmeter"],content:""}),this.add(new o({origin:[1,1],transform:u.translate(0,0,10)})).add(this.surface),this.surface.on("click",this.toggleState),this.start()}return p(e,t),e.prototype.currTime=0,e.prototype.lastTime=0,e.prototype.frameTime=0,e.prototype.state=!0,e.prototype.filterStrength=10,e.prototype.updateFrequency=100,e.prototype.initTime=function(){var t,e;return t=window.performance,t&&(t.now||t.webkitNow)&&(e=t.now?"now":"webkitNow",this.getTime=t[e].bind(t)),this.lastTime=this.getTime()},e.prototype.tick=function(){var t;return this.currTime=this.getTime(),t=this.currTime-this.lastTime,this.frameTime+=(t-this.frameTime)/this.filterStrength,this.lastTime=this.currTime},e.prototype.toggleState=function(){return this.state?this.stop():this.start(),this.state=!this.state},e.prototype.start=function(){return s.on("prerender",this.tick),this.interval=a.setInterval(this.update,this.updateFrequency)},e.prototype.stop=function(){return s.removeListener("prerender",this.tick),a.clear(this.interval)},e.prototype.update=function(){return this.surface.setContent(""+(1e3/this.frameTime).toFixed(1)+" fps")},e.prototype.getTime=function(){return+new Date},e}(h),i.exports=n}),i("famous/views/Lightbox",["require","exports","module","famous/core/Transform","famous/core/Modifier","famous/core/RenderNode","famous/utilities/Utility","famous/core/OptionsManager","famous/transitions/Transitionable","famous/transitions/TransitionableTransform"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this._optionsManager=new u(this.options),t&&this.setOptions(t),this._showing=!1,this.nodes=[],this.transforms=[],this.states=[]}var n=t("famous/core/Transform"),o=t("famous/core/Modifier"),r=t("famous/core/RenderNode"),a=t("famous/utilities/Utility"),u=t("famous/core/OptionsManager"),h=t("famous/transitions/Transitionable"),c=t("famous/transitions/TransitionableTransform");s.DEFAULT_OPTIONS={inTransform:n.scale(.001,.001,.001),inOpacity:0,inOrigin:[.5,.5],outTransform:n.scale(.001,.001,.001),outOpacity:0,outOrigin:[.5,.5],showTransform:n.identity,showOpacity:1,showOrigin:[.5,.5],inTransition:!0,outTransition:!0,overlap:!1},s.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},s.prototype.show=function(t,e,i){if(!t)return this.hide(i);if(e instanceof Function&&(i=e,e=void 0),this._showing){if(!this.options.overlap)return this.hide(this.show.bind(this,t,i));this.hide()}this._showing=!0;var s={transform:new c(this.options.inTransform),origin:new h(this.options.inOrigin),opacity:new h(this.options.inOpacity)},n=new o({transform:s.transform,opacity:s.opacity,origin:s.origin}),u=new r;u.add(n).add(t),this.nodes.push(u),this.states.push(s),this.transforms.push(n);var l=i?a.after(3,i):void 0;e||(e=this.options.inTransition),s.transform.set(this.options.showTransform,e,l),s.opacity.set(this.options.showOpacity,e,l),s.origin.set(this.options.showOrigin,e,l)},s.prototype.hide=function(t,e){if(this._showing){this._showing=!1,t instanceof Function&&(e=t,t=void 0);var i=this.nodes[this.nodes.length-1],s=this.transforms[this.transforms.length-1],n=this.states[this.states.length-1],o=a.after(3,function(){this.nodes.splice(this.nodes.indexOf(i),1),this.states.splice(this.states.indexOf(n),1),this.transforms.splice(this.transforms.indexOf(s),1),e&&e.call(this)}.bind(this));t||(t=this.options.outTransition),n.transform.set(this.options.outTransform,t,o),n.opacity.set(this.options.outOpacity,t,o),n.origin.set(this.options.outOrigin,t,o)}},s.prototype.render=function(){for(var t=[],e=0;e<this.nodes.length;e++)t.push(this.nodes[e].render());return t},i.exports=s}),i("famous/modifiers/StateModifier",["require","exports","module","famous/core/Modifier","famous/core/Transform","famous/transitions/Transitionable","famous/transitions/TransitionableTransform"],function(t,e,i){function s(t){this._transformState=new a(o.identity),this._opacityState=new r(1),this._originState=new r([0,0]),this._sizeState=new r([0,0]),this._modifier=new n({transform:this._transformState,opacity:this._opacityState,origin:null,size:null}),this._hasOrigin=!1,this._hasSize=!1,t&&(t.transform&&this.setTransform(t.transform),void 0!==t.opacity&&this.setOpacity(t.opacity),t.origin&&this.setOrigin(t.origin),t.size&&this.setSize(t.size))}var n=t("famous/core/Modifier"),o=t("famous/core/Transform"),r=t("famous/transitions/Transitionable"),a=t("famous/transitions/TransitionableTransform");s.prototype.setTransform=function(t,e,i){return this._transformState.set(t,e,i),this},s.prototype.setOpacity=function(t,e,i){return this._opacityState.set(t,e,i),this},s.prototype.setOrigin=function(t,e,i){return null===t?(this._hasOrigin&&(this._modifier.originFrom(null),this._hasOrigin=!1),this):(this._hasOrigin||(this._hasOrigin=!0,this._modifier.originFrom(this._originState)),this._originState.set(t,e,i),this)},s.prototype.setSize=function(t,e,i){return null===t?(this._hasSize&&(this._modifier.sizeFrom(null),this._hasSize=!1),this):(this._hasSize||(this._hasSize=!0,this._modifier.sizeFrom(this._sizeState)),this._sizeState.set(t,e,i),this)},s.prototype.halt=function(){this._transformState.halt(),this._opacityState.halt(),this._originState.halt(),this._sizeState.halt()},s.prototype.getTransform=function(){return this._transformState.get()},s.prototype.getFinalTransform=function(){return this._transformState.getFinal()},s.prototype.getOpacity=function(){return this._opacityState.get()},s.prototype.getOrigin=function(){return this._hasOrigin?this._originState.get():null},s.prototype.getSize=function(){return this._hasSize?this._sizeState.get():null},s.prototype.modify=function(t){return this._modifier.modify(t)},i.exports=s}),i("famous/core/ViewSequence",["require","exports","module"],function(t,e,i){function s(t){t||(t=[]),t instanceof Array&&(t={array:t}),this._=null,this.index=t.index||0,t.array?this._=new this.constructor.Backing(t.array):t._&&(this._=t._),this.index===this._.firstIndex&&(this._.firstNode=this),this.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=this),void 0!==t.loop&&(this._.loop=t.loop),this._previousNode=null,this._nextNode=null}s.Backing=function(t){this.array=t,this.firstIndex=0,this.loop=!1,this.firstNode=null,this.lastNode=null},s.Backing.prototype.getValue=function(t){var e=t-this.firstIndex;return 0>e||e>=this.array.length?null:this.array[e]},s.Backing.prototype.setValue=function(t,e){this.array[t-this.firstIndex]=e},s.Backing.prototype.reindex=function(t,e,i){var s=0,n=this.firstIndex,o=i-e,r=this.firstNode;if(t===this.firstIndex){for(s=0;e>s;s++)this.firstNode=this.firstNode.getNext();this.firstNode.index=this.firstIndex}for(;t-1>n;)r=r.getNext(),n++;var a=r;for(s=0;e>s;s++)r=r.getNext(),r&&(r._previousNode=a);var u=r?r.getNext():null;for(a._nextNode=null,r=a,s=0;i>s;s++)r=r.getNext();if(n+=i,r!==u&&(r._nextNode=u,u&&(u._previousNode=r)),u)for(r=u,n++;r&&n<this.array.length+this.firstIndex;)r._nextNode?r.index+=o:r.index=n,r=r.getNext(),n++},s.prototype.getPrevious=function(){return this.index===this._.firstIndex?this._.loop?(this._previousNode=this._.lastNode||new this.constructor({_:this._,index:this._.firstIndex+this._.array.length-1}),this._previousNode._nextNode=this):this._previousNode=null:this._previousNode||(this._previousNode=new this.constructor({_:this._,index:this.index-1}),this._previousNode._nextNode=this),this._previousNode},s.prototype.getNext=function(){return this.index===this._.firstIndex+this._.array.length-1?this._.loop?(this._nextNode=this._.firstNode||new this.constructor({_:this._,index:this._.firstIndex}),this._nextNode._previousNode=this):this._nextNode=null:this._nextNode||(this._nextNode=new this.constructor({_:this._,index:this.index+1}),this._nextNode._previousNode=this),this._nextNode},s.prototype.getIndex=function(){return this.index},s.prototype.toString=function(){return""+this.index},s.prototype.unshift=function(){this._.array.unshift.apply(this._.array,arguments),this._.firstIndex-=arguments.length},s.prototype.push=function(){this._.array.push.apply(this._.array,arguments)},s.prototype.splice=function(t,e){var i=Array.prototype.slice.call(arguments,2);this._.array.splice.apply(this._.array,[t-this._.firstIndex,e].concat(i)),this._.reindex(t,e,i.length)},s.prototype.swap=function(t){var e=t.get(),i=this.get();this._.setValue(this.index,e),this._.setValue(t.index,i);var s=this._previousNode,n=this._nextNode,o=this.index,r=t._previousNode,a=t._nextNode,u=t.index;this.index=u,this._previousNode=r===this?t:r,this._previousNode&&(this._previousNode._nextNode=this),this._nextNode=a===this?t:a,this._nextNode&&(this._nextNode._previousNode=this),t.index=o,t._previousNode=s===t?this:s,t._previousNode&&(t._previousNode._nextNode=t),t._nextNode=n===t?this:n,t._nextNode&&(t._nextNode._previousNode=t),this.index===this._.firstIndex?this._.firstNode=this:this.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=this),t.index===this._.firstIndex?this._.firstNode=t:t.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=t)},s.prototype.get=function(){return this._.getValue(this.index)},s.prototype.getSize=function(){var t=this.get();return t?t.getSize():null},s.prototype.render=function(){var t=this.get();return t?t.render.apply(t,arguments):null},i.exports=s}),i("famous/views/GridLayout",["require","exports","module","famous/core/Entity","famous/core/RenderNode","famous/core/Transform","famous/core/ViewSequence","famous/core/Modifier","famous/core/OptionsManager","famous/transitions/Transitionable","famous/transitions/TransitionableTransform"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.optionsManager=new l(this.options),t&&this.setOptions(t),this.id=a.register(this),this._modifiers=[],this._states=[],this._contextSizeCache=[0,0],this._dimensionsCache=[0,0],this._activeCount=0}function n(t,e,i){i||(i=t[1]/this.options.cellSize[1]|0),e||(e=t[0]/this.options.cellSize[0]|0);for(var s=t[1]/i,n=t[0]/e,a=0;i>a;a++)for(var u=Math.round(s*a),h=0;e>h;h++){var c=Math.round(n*h),l=a*e+h;l in this._modifiers||o.call(this,l),r.call(this,l,[Math.round(n*(h+1))-c,Math.round(s*(a+1))-u],[c,u,0],1)}for(this._dimensionsCache=[this.options.dimensions[0],this.options.dimensions[1]],this._contextSizeCache=[t[0],t[1]],this._activeCount=i*e,a=this._activeCount;a<this._modifiers.length;a++)r.call(this,a,[Math.round(n),Math.round(s)],[0,0],0)}function o(t){var e={transform:new d(u.identity),opacity:new p(0),size:new p([0,0])},i=new c({transform:e.transform,opacity:e.opacity,size:e.size});this._states[t]=e,this._modifiers[t]=i}function r(t,e,i,s){var n=this._states[t],o=n.size,r=n.opacity,a=n.transform,u=this.options.transition;a.halt(),r.halt(),o.halt(),a.setTranslate(i,u),o.set(e,u),r.set(s,u)}var a=t("famous/core/Entity"),u=(t("famous/core/RenderNode"),t("famous/core/Transform")),h=t("famous/core/ViewSequence"),c=t("famous/core/Modifier"),l=t("famous/core/OptionsManager"),p=t("famous/transitions/Transitionable"),d=t("famous/transitions/TransitionableTransform");s.DEFAULT_OPTIONS={dimensions:[1,1],cellSize:[250,250],transition:!1},s.prototype.render=function(){return this.id},s.prototype.setOptions=function(t){return this.optionsManager.setOptions(t)},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new h(t)),this.sequence=t},s.prototype.commit=function(t){var e=t.transform,i=t.opacity,s=t.origin,o=t.size,r=this.options.dimensions[0],a=this.options.dimensions[1];(o[0]!==this._contextSizeCache[0]||o[1]!==this._contextSizeCache[1]||r!==this._dimensionsCache[0]||a!==this._dimensionsCache[1])&&n.call(this,o,r,a);for(var h=this.sequence,c=[],l=0;h&&l<this._modifiers.length;){var p=h.get(),d=this._modifiers[l];l>=this._activeCount&&this._states[l].opacity.isActive()&&(this._modifiers.splice(l,1),this._states.splice(l,1)),p&&(c[l]=d.modify({origin:s,target:p.render()})),h=h.getNext(),l++}return o&&(e=u.moveThen([-o[0]*s[0],-o[1]*s[1],0],e)),{transform:e,opacity:i,size:o,target:c}},i.exports=s}),i("views/AboutView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Modifier","famous/core/Transform","famous/modifiers/StateModifier","famous/views/GridLayout"],function(t,e,i){function s(){a.apply(this,arguments),o.call(this),n.call(this),r.call(this)}function n(){var t=new u({size:[.05*window.innerWidth,.05*window.innerHeight],content:'<a href="https://github.com/Famospace/Famo.us-Monospace"><img src="https://camo.githubusercontent.com/c6286ade715e9bea433b4705870de482a654f78a/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f77686974655f6666666666662e706e67"alt="Fork me on GitHub"imgdata-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png"></a>',properties:{zIndex:5}}),e=new h({align:[0,0],origin:[0,0],transform:function(){return window.innerWidth<800?c.scale(.7,.7,.7):void 0}.bind(this)});this.add(e).add(t)}function o(){var t,e,i=new l({dimensions:[2,1]}),s=[];i.sequenceFrom(s),window.innerWidth<800?(t=new u({content:'<br/><h2>Amar Patel</h2><center><img width="85%" src="content/images/amar.png"/></center><span display="inline-block"><a href="http://www.github.com/theamarpatel"><img width="20%" src="https://assets-cdn.github.com/images/modules/logos_page/Octocat.png"/></a>  <a href="http://www.linkedin.com/in/amarmpatel"><img width="20%" src="http://press.linkedin.com/display-media/206/4"/></a></span><br/><a color="#000" href="http://www.amarpatel.io/">amarpatel.io</a>',size:[void 0,void 0],properties:this.options.bioProps}),t.setProperties({borderRight:"1px solid lightgrey"}),e=new u({content:'<br/><h2>Joe Dou</h2><center><img width="85%" src="content/images/joe.png"/></center><span display="inline-block"><a href="http://www.github.com/joedou"><img width="20%" src="https://assets-cdn.github.com/images/modules/logos_page/Octocat.png"/></a>  <a href="http://www.linkedin.com/in/joedou"><img width="20%" src="http://press.linkedin.com/display-media/206/4"/></a></span><br/><a color="#000" href="http://www.whatwouldjoedou.com/">whatwouldjoedou.com</a>',size:[void 0,void 0],properties:this.options.bioProps})):(t=new u({content:'<br/><h2>Amar Patel</h2><center><img width="25%" src="content/images/amar.png"/></center><br/><br/><br/><span display="inline-block"><a href="http://www.github.com/theamarpatel"><img width="6%" src="https://assets-cdn.github.com/images/modules/logos_page/Octocat.png"/></a>  <a href="http://www.linkedin.com/in/amarmpatel"><img width="5%" src="http://press.linkedin.com/display-media/206/4"/></a></span><br/><a color="#000" href="http://www.amarpatel.io/">amarpatel.io</a>',size:[void 0,void 0],properties:this.options.bioProps}),t.setProperties({borderRight:"1px solid lightgrey"}),e=new u({content:'<br/><h2>Joe Dou</h2><center><img width="25%" src="content/images/joe.png"/></center><br/><br/><br/><span display="inline-block"><a href="http://www.github.com/joedou"><img width="6%" src="https://assets-cdn.github.com/images/modules/logos_page/Octocat.png"/></a>  <a href="http://www.linkedin.com/in/joedou"><img width="5%" src="http://press.linkedin.com/display-media/206/4"/></a></span><br/><a color="#000" href="http://www.whatwouldjoedou.com/">whatwouldjoedou.com</a>',size:[void 0,void 0],properties:this.options.bioProps})),s.push(t,e),this.add(i)}function r(){var t=new u({content:"Back",properties:{textAlign:"center",fontSize:".8rem",fontFamily:"HelveticaNeue-Light",zIndex:4,lineHeight:"45px",cursor:"pointer"}}),e=new h({size:[50,50],align:[1,0],origin:[1,0]});this.add(e).add(t),t.on("click",function(){this._eventOutput.emit("mainMenu")}.bind(this))}var a=t("famous/core/View"),u=t("famous/core/Surface"),h=t("famous/core/Modifier"),c=t("famous/core/Transform"),l=(t("famous/modifiers/StateModifier"),t("famous/views/GridLayout"));s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={bioProps:{backgroundColor:"white",color:"#404040",lineHeight:"50px",textAlign:"center",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif"}},i.exports=s}),i("views/MainMenuView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Modifier","famous/core/Transform","famous/modifiers/StateModifier","famous/views/GridLayout"],function(t,e,i){function s(){c.apply(this,arguments),o.call(this),n.call(this),r.call(this),a.call(this),u.call(this),h.call(this)}function n(){var t=new l({size:[.05*window.innerWidth,.05*window.innerHeight],content:'<a href="https://github.com/Famospace/Famo.us-Monospace"><img src="https://camo.githubusercontent.com/c6286ade715e9bea433b4705870de482a654f78a/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f77686974655f6666666666662e706e67"alt="Fork me on GitHub"imgdata-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png"></a>',properties:{zIndex:5}}),e=new p({align:[0,0],origin:[0,0],transform:function(){return window.innerWidth<800?d.scale(.7,.7,.7):void 0}.bind(this)});this.add(e).add(t)}function o(){var t=new l({size:[void 0,50],content:"Famospace",properties:{fontFamily:this.options.fontFamily,textAlign:"center",fontSize:"2.5rem"}}),e=new f({align:[.5,0],origin:[.5,0],transform:d.translate(0,75,0)});this.add(e).add(t)}function r(){var t=new l({size:[void 0,10],content:'By <a href="http://www.github.com/theamarpatel">Amar</a> and <a href="http://www.github.com/joedou">Joe</a>',properties:{fontFamily:this.options.fontFamily,textAlign:"center",fontSize:".75rem"}}),e=new f({align:[.5,0],origin:[.5,0],transform:d.translate(0,130,0)});this.add(e).add(t)}function a(){var t=new l({size:[void 0,10],content:"Inspired by Monospace <br/> Daniel Lutz",properties:{fontFamily:this.options.fontFamily,textAlign:"center",fontSize:".75rem"}}),e=new f({align:[.5,.9],origin:[.5,.9]});this.add(e).add(t)}function u(){var t=new l({size:[150,65],content:"Play",properties:{fontFamily:this.options.fontFamily,textAlign:"center",fontSize:"3rem",borderRadius:"10px",backgroundColor:"#34A4CC",border:"2px solid #738F99",cursor:"pointer",color:"white"}}),e=new f({align:[.5,0],origin:[.5,0],transform:d.translate(0,230,0)});t.on("touchstart",function(){this._eventOutput.emit("levels")}.bind(this)),t.on("click",function(){this._eventOutput.emit("levels")}.bind(this)),this.add(e).add(t)}function h(){var t=new l({size:[150,65],content:"About",properties:{fontFamily:this.options.fontFamily,textAlign:"center",fontSize:"1rem",cursor:"pointer"}}),e=new f({align:[.5,0],origin:[.5,0],transform:d.translate(0,350,0)});t.on("touchstart",function(){this._eventOutput.emit("about")}.bind(this)),t.on("click",function(){this._eventOutput.emit("about")}.bind(this)),this.add(e).add(t)}{var c=t("famous/core/View"),l=t("famous/core/Surface"),p=t("famous/core/Modifier"),d=t("famous/core/Transform"),f=t("famous/modifiers/StateModifier");t("famous/views/GridLayout")}s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif"},i.exports=s}),i("famous/transitions/Easing",["require","exports","module"],function(t,e,i){var s={inQuad:function(t){return t*t},outQuad:function(t){return-(t-=1)*t+1},inOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},outExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)
},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)))},outElastic:function(t){var e=1.70158,i=0,s=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/i)+1)},inOutElastic:function(t){var e=1.70158,i=0,s=1;return 0===t?0:2===(t/=.5)?1:(i||(i=.3*1.5),e=i/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)*.5+1)},inBack:function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)},outBack:function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1},inOutBack:function(t,e){return void 0===e&&(e=1.70158),(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},inBounce:function(t){return 1-s.outBounce(1-t)},outBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t){return.5>t?.5*s.inBounce(2*t):.5*s.outBounce(2*t-1)+.5}};i.exports=s}),i("famous/core/Group",["require","exports","module","./Context","./Transform","./Surface"],function(t,e,i){function s(t){r.call(this,t),this._shouldRecalculateSize=!1,this._container=document.createDocumentFragment(),this.context=new n(this._container),this.setContent(this._container),this._groupSize=[void 0,void 0]}var n=t("./Context"),o=t("./Transform"),r=t("./Surface");s.SIZE_ZERO=[0,0],s.prototype=Object.create(r.prototype),s.prototype.elementType="div",s.prototype.elementClass="famous-group",s.prototype.add=function(){return this.context.add.apply(this.context,arguments)},s.prototype.render=function(){return r.prototype.render.call(this)},s.prototype.deploy=function(t){this.context.migrate(t)},s.prototype.recall=function(){this._container=document.createDocumentFragment(),this.context.migrate(this._container)},s.prototype.commit=function(t){var e=t.transform,i=t.origin,n=t.opacity,a=t.size,u=r.prototype.commit.call(this,{allocator:t.allocator,transform:o.thenMove(e,[-i[0]*a[0],-i[1]*a[1],0]),opacity:n,origin:i,size:s.SIZE_ZERO});return(a[0]!==this._groupSize[0]||a[1]!==this._groupSize[1])&&(this._groupSize[0]=a[0],this._groupSize[1]=a[1],this.context.setSize(a)),this.context.update({transform:o.translate(-i[0]*a[0],-i[1]*a[1],0),origin:i,size:a}),u},i.exports=s}),i("views/CubeView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/core/Modifier","famous/core/Group"],function(t,e,i){function s(){o.apply(this,arguments),this.surfaces=[];var t=new u({size:[this.options.size,this.options.size],translate:a.translate([this.options.size/2,this.options.size/2,this.options.size/2])});this.rootNode=this.add(t),n.call(this)}function n(){for(var t=[[0,0,this.options.size/2],[0,0,-this.options.size/2],[this.options.size/2,0,0],[-this.options.size/2,0,0],[0,this.options.size/2,0],[0,-this.options.size/2,0]],e=[[0,0,0],[0,Math.PI,0],[0,-Math.PI/2,0],[0,Math.PI/2,0],[-Math.PI/2,0,0],[Math.PI/2,0,0]],i=new h,s=0;6>s;s++){var n=new r({size:[this.options.size,this.options.size],properties:{webkitBackfaceVisibility:"visible",border:"1px solid black",pointerEvents:"none"}});this.surfaces.push(n);var o=new u({align:[.5,.5],origin:[.5,.5]}),c=t[s],l=e[s],p=a.multiply(a.translate(c[0],c[1],c[2]),a.rotate(l[0],l[1],l[2]));o.transformFrom(p),i.add(o).add(n)}this.rootNode.add(i)}var o=t("famous/core/View"),r=t("famous/core/Surface"),a=t("famous/core/Transform"),u=t("famous/core/Modifier"),h=t("famous/core/Group");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:200},i.exports=s}),i("famous/inputs/MouseSync",["require","exports","module","famous/core/EventHandler"],function(t,e,i){function s(t,e){2===arguments.length?(this._legacyPositionGetter=arguments[0],e=arguments[1]):(this._legacyPositionGetter=null,e=arguments[0]),this.options={direction:void 0,rails:!1,scale:1,stallTime:50,propogate:!0},this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,offsetX:void 0,offsetY:void 0},this.setOptions(e?e:this.options),this.input=new h,this.output=new h,h.setInputHandler(this,this.input),h.setOutputHandler(this,this.output),this._prevCoord=void 0,this._prevTime=void 0,this._prevVel=void 0,this.input.on("mousedown",o.bind(this)),this.input.on("mousemove",r.bind(this)),this.input.on("mouseup",a.bind(this)),this.options.propogate?this.input.on("mouseleave",u.bind(this)):this.input.on("mouseleave",a.bind(this))}function n(){var t=this._payload;t.delta=null,t.position=null,t.velocity=null,t.clientX=void 0,t.clientY=void 0,t.offsetX=void 0,t.offsetY=void 0}function o(t){t.preventDefault(),n.call(this);var e=t.clientX,i=t.clientY;this._prevCoord=[e,i],this._prevTime=Date.now(),this._prevVel=void 0!==this.options.direction?0:[0,0];var s=this._payload;s.clientX=e,s.clientY=i,s.offsetX=t.offsetX,s.offsetY=t.offsetY,this.output.emit("start",s)}function r(t){if(this._prevCoord){var e=this._prevCoord,i=this._prevTime,n=t.clientX,o=t.clientY,r=[n,o],a=Date.now(),u=r[0]-e[0],h=r[1]-e[1];this.options.rails&&(Math.abs(u)>Math.abs(h)?h=0:u=0);var c,l,p,d,f=Math.max(a-i,8),m=u/f,v=h/f,g=this.options.scale;this.options.direction===s.DIRECTION_X?(c=this._legacyPositionGetter?this._legacyPositionGetter():0,d=g*u,l=c+d,p=g*m):this.options.direction===s.DIRECTION_Y?(c=this._legacyPositionGetter?this._legacyPositionGetter():0,d=g*h,l=c+d,p=g*v):(c=this._legacyPositionGetter?this._legacyPositionGetter():[0,0],d=[g*u,g*h],l=[c[0]+d[0],c[1]+d[1]],p=[g*m,g*v]);var y=this._payload;y.delta=d,y.position=l,y.velocity=p,y.clientX=n,y.clientY=o,y.offsetX=t.offsetX,y.offsetY=t.offsetY,this.output.emit("update",y),this._prevCoord=r,this._prevTime=a,this._prevVel=p}}function a(t){if(this._prevCoord){var e=this._prevTime,i=Date.now();i-e>this.options.stallTime&&(this._prevVel=void 0===this.options.direction?[0,0]:0);var s=this._payload;s.velocity=this._prevVel,s.clientX=t.clientX,s.clientY=t.clientY,s.offsetX=t.offsetX,s.offsetY=t.offsetY,this.output.emit("end",s),this._prevCoord=void 0,this._prevTime=void 0,this._prevVel=void 0}}function u(){if(this._prevCoord){var t=r.bind(this),e=function(i){a.call(this,i),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)}.bind(this);document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)}}var h=t("famous/core/EventHandler");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale),void 0!==t.stallTime&&(this.options.stallTime=t.stallTime),void 0!==t.propogate&&(this.options.propogate=t.propogate)},i.exports=s}),i("famous/inputs/TouchTracker",["require","exports","module","famous/core/EventHandler"],function(t,e,i){function s(t,e,i,s){var n={};for(var o in t)n[o]=t[o];return{touch:n,origin:e,timestamp:Date.now(),count:s,history:i}}function n(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=s(i,t.origin,void 0,t.touches.length);this.eventOutput.emit("trackstart",n),this.selective||this.touchHistory[i.identifier]||this.track(n)}}function o(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=this.touchHistory[i.identifier];if(n){var o=s(i,t.origin,n,t.touches.length);this.touchHistory[i.identifier].push(o),this.eventOutput.emit("trackmove",o)}}}function r(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=this.touchHistory[i.identifier];if(n){var o=s(i,t.origin,n,t.touches.length);this.eventOutput.emit("trackend",o),delete this.touchHistory[i.identifier]}}}function a(){for(var t in this.touchHistory){var e=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:e[e.length-1].touch,timestamp:Date.now(),count:0,history:e}),delete this.touchHistory[t]}}function u(t){this.selective=t,this.touchHistory={},this.eventInput=new h,this.eventOutput=new h,h.setInputHandler(this,this.eventInput),h.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",n.bind(this)),this.eventInput.on("touchmove",o.bind(this)),this.eventInput.on("touchend",r.bind(this)),this.eventInput.on("touchcancel",r.bind(this)),this.eventInput.on("unpipe",a.bind(this))}var h=t("famous/core/EventHandler");u.prototype.track=function(t){this.touchHistory[t.touch.identifier]=[t]},i.exports=u}),i("famous/inputs/TouchSync",["require","exports","module","./TouchTracker","famous/core/EventHandler"],function(t,e,i){function s(t,e){2===arguments.length?(this._legacyPositionGetter=arguments[0],e=arguments[1]):(this._legacyPositionGetter=null,e=arguments[0]),this.output=new h,this.touchTracker=new u,this.options={direction:void 0,rails:!1,scale:1},this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this.setOptions(e?e:this.options),h.setOutputHandler(this,this.output),h.setInputHandler(this,this.touchTracker),this.touchTracker.on("trackstart",o.bind(this)),this.touchTracker.on("trackmove",r.bind(this)),this.touchTracker.on("trackend",a.bind(this))}function n(){var t=this._payload;t.position=null,t.velocity=null,t.clientX=void 0,t.clientY=void 0,t.count=void 0,t.touch=void 0}function o(t){n.call(this);var e=this._payload;e.count=t.count,e.touch=t.identifier,this.output.emit("start",e)}function r(t){var e=t.history,i=e[e.length-2].timestamp,n=e[e.length-1].timestamp,o=e[e.length-2].touch,r=e[e.length-1].touch,a=r.pageX-o.pageX,u=r.pageY-o.pageY;this.options.rails&&(Math.abs(a)>Math.abs(u)?u=0:a=0);var h,c,l,p,d=Math.max(n-i,8),f=a/d,m=u/d,v=this.options.scale;this.options.direction===s.DIRECTION_X?(h=this._legacyPositionGetter?this._legacyPositionGetter():0,p=v*a,c=h+p,l=v*f):this.options.direction===s.DIRECTION_Y?(h=this._legacyPositionGetter?this._legacyPositionGetter():0,p=v*u,c=h+p,l=v*m):(h=this._legacyPositionGetter?this._legacyPositionGetter():[0,0],p=[v*a,v*u],c=[h[0]+p[0],h[1]+p[1]],l=[v*f,v*m]);var g=this._payload;g.delta=p,g.position=c,g.velocity=l,g.clientX=t.touch.clientX,g.clientY=t.touch.clientY,g.count=t.count,g.touch=t.touch.identifier,this.output.emit("update",g)}function a(t){var e=void 0!==this.options.direction?0:[0,0],i=t.history,n=t.count;if(i.length>1){var o=i[i.length-2].timestamp,r=i[i.length-1].timestamp,a=i[i.length-2].touch,u=i[i.length-1].touch,h=u.pageX-a.pageX,c=u.pageY-a.pageY;this.options.rails&&(Math.abs(h)>Math.abs(c)?c=0:h=0);var l=Math.max(r-o,1),p=h/l,d=c/l,f=this.options.scale;e=this.options.direction===s.DIRECTION_X?f*p:this.options.direction===s.DIRECTION_Y?f*d:[f*p,f*d]}var m=this._payload;m.velocity=e,m.clientX=t.clientX,m.clientY=t.clientY,m.count=n,m.touch=t.touch.identifier,this.output.emit("end",m)}var u=t("./TouchTracker"),h=t("famous/core/EventHandler");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale)},s.prototype.getOptions=function(){return this.options},i.exports=s}),i("views/DestroyerCube",["require","exports","module","famous/core/View","famous/core/Transform","famous/core/Modifier","famous/transitions/Transitionable","famous/transitions/Easing","views/CubeView","famous/inputs/MouseSync","famous/inputs/TouchSync"],function(t,e,i){function s(){a.apply(this,arguments),this.position=this.options.startPosition,this.posData=void 0,this.newPos=[0,0,0],this.transitionable=new c(0),n.call(this),o.call(this)}function n(){for(var t=new p({size:this.options.size}),e=0;e<t.surfaces.length;e++)t.surfaces[e].setProperties({backgroundColor:this.options.color,pointerEvents:"auto"});var i=new h({transform:function(){var t=this.transitionable.get();t>=.99999&&(this.transitionable.halt(),this.position=this.newPos,this.transitionable.reset(0));var e=u.translate(this.position[0]+(this.newPos[0]-this.position[0])*t,this.position[1]+(this.newPos[1]-this.position[1])*t,this.position[2]+(this.newPos[2]-this.position[2])*t);return e}.bind(this)});this.destroyerCube=t,this.add(i).add(this.destroyerCube)}function o(){var t,e=new d,i=new f;e.on("start",function(){this.posData={x:0,y:0}}.bind(this)),e.on("update",function(t){this.posData.x+=t.delta[0],this.posData.y+=t.delta[1]}.bind(this)),e.on("end",function(){t=r(this.posData),this._eventOutput.emit("movingCubeToGB",t)}.bind(this)),i.on("start",function(){this.posData={x:0,y:0}}.bind(this)),i.on("update",function(t){this.posData.x+=t.delta[0],this.posData.y+=t.delta[1]}.bind(this)),i.on("end",function(){t=r(this.posData),this._eventOutput.emit("movingCubeToGB",t)}.bind(this));for(var s=0;s<this.destroyerCube.surfaces.length;s++)this.destroyerCube.surfaces[s].pipe(e),this.destroyerCube.surfaces[s].pipe(i)}function r(t){var e=Math.abs(t.x),i=Math.abs(t.y),s=[0,0];return(e>5||i>5)&&(i>e?(t.y<0&&(s=[0,1]),t.y>0&&(s=[0,-1])):(t.x<0&&(s=[-1,0]),t.x>0&&(s=[1,0]))),s}var a=t("famous/core/View"),u=t("famous/core/Transform"),h=t("famous/core/Modifier"),c=t("famous/transitions/Transitionable"),l=t("famous/transitions/Easing"),p=t("views/CubeView"),d=t("famous/inputs/MouseSync"),f=t("famous/inputs/TouchSync");s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:100,startPosition:[150,150,150],color:"blue"},s.prototype.setPosition=function(t,e){e?(this.transitionable.set(1,{duration:500,curve:l.outBack}),this.newPos=t):this.position=t},i.exports=s}),i("views/SmallCube",["require","exports","module","famous/core/View","famous/core/Transform","famous/core/Modifier","views/CubeView"],function(t,e,i){function s(){o.apply(this,arguments),this.position=this.options.startPosition,n.call(this)}function n(){for(var t=new u({size:this.options.size}),e=0;e<t.surfaces.length;e++)t.surfaces[e].setProperties({size:this.options.size,backgroundColor:this.options.cubeColor,opacity:this.options.opacity,pointerEvents:"none"});var i=new a({transform:function(){return r.translate(this.position[0],this.position[1],this.position[2])}.bind(this)});this.smallCube=t,this.add(i).add(this.smallCube)}var o=t("famous/core/View"),r=t("famous/core/Transform"),a=t("famous/core/Modifier"),u=t("views/CubeView");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.setPosition=function(t){this.position=t},s.prototype.getPosition=function(){return this.position},s.DEFAULT_OPTIONS={size:100,startPosition:[-150,-150,-150],cubeColor:"white",opacity:1},i.exports=s}),i("views/GameBoard",["require","exports","module","famous/core/View","famous/core/Modifier","views/CubeView","views/DestroyerCube","views/SmallCube"],function(t,e,i){function s(){c.apply(this,arguments),this.is2D=!0;var t=new l;this.node=this.add(t),o.call(this),n.call(this),r.call(this),u.call(this)}function n(){this.destroyerCube=new d({startPosition:h.call(this,this.options.destroyer),color:this.options.destroyerColor,size:this.options.mainCubeSize/4}),this.node.add(this.destroyerCube)}function o(){this.cube=new p({size:this.options.mainCubeSize}),this.node.add(this.cube)}function r(){this.smallCubes=[];for(var t=0;t<this.options.smallCube.length;t++){var e=new f({startPosition:h.call(this,this.options.smallCube[t]),cubeColor:this.options.smallCubeColor,size:this.options.mainCubeSize/4});this.smallCubes.push(e),this.node.add(e)}}function a(t){for(var e=0;e<this.smallCubes.length;e++)this.smallCubes[e].setPosition(void 0!==t[e]?h.call(this,t[e]):h.call(this,this.options.smallCube[e]))}function u(){this._eventInput.on("is2d",function(t){t?this.destroyerCube.pipe(this._eventInput):this.destroyerCube.unpipe(this._eventInput)}.bind(this)),this._eventInput.on("movingCubeToGB",function(t){this._eventOutput.emit("movingCubeToRL",t)}.bind(this))}function h(t){var e=[(t[0]-1.5)*this.options.mainCubeSize/4,(t[1]-1.5)*this.options.mainCubeSize/4,(t[2]-1.5)*this.options.mainCubeSize/4];return e}var c=t("famous/core/View"),l=t("famous/core/Modifier"),p=t("views/CubeView"),d=t("views/DestroyerCube"),f=t("views/SmallCube");s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={mainCubeSize:400,destroyer:void 0,destroyerColor:"#34A4CC",smallCube:void 0,smallCubeColor:"#738F99"},s.prototype.setIs2D=function(t){this.is2D=t},s.prototype.setDestroyerPosition=function(t){var e=h.call(this,t);this.destroyerCube.setPosition(e,!0);for(var i=0;i<this.smallCubes.length;i++){var s=this.smallCubes[i].getPosition();s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2]&&this.smallCubes[i].setPosition(h.call(this,[-1e4,-1e4,0]))}},s.prototype.startNewGame=function(t){this.destroyerCube.setPosition(h.call(this,t.destroyer)),a.call(this,t.smallCube)},i.exports=s}),i("views/RotatingLogic",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/core/Modifier","famous/transitions/Transitionable","famous/transitions/Easing","views/GameBoard","famous/inputs/MouseSync","famous/inputs/TouchSync"],function(t,e,i){function s(){l.apply(this,arguments),this.position=[0,0],this.state=[0,0,1],this.nVec=[0,-1,0],this.rVec=[1,0,0],this.index=[0,0,0],this.left=0,this.down=0,this.rotation=d.rotate(0,0,0),this.transitionable=new m(0),r.call(this),o.call(this),a.call(this),n.call(this),u.call(this)}function n(){this.gameBoard=new g({mainCubeSize:this.options.mainCubeSize,destroyer:this.options.destroyer,smallCube:this.options.smallCube}),this.node.add(this.gameBoard)}function o(){this.backgroundSurface=new p({size:[void 0,void 0]}),this.add(this.backgroundSurface)}function r(){var t=new f({transform:function(){var t=this.transitionable.get();if(t>.99999){this.rotation=c(this.state,this.nVec),this.index=[0,0,0],this.position=[0,0],this.left=0,this.down=0,this.transitionable.reset(0),this.transitionable.halt();var e={nVec:this.nVec,rVec:this.rVec};this._eventOutput.emit("coordinateUpdate",e)}var i=d.rotate(this.index[0]*t*Math.PI/2,this.index[1]*t*Math.PI/2,this.index[2]*t*Math.PI/2);return d.multiply(this.rotation,i)}.bind(this)});this.node=this.add(t)}function a(){this.parentCubeMouseSync=new y,this.parentCubeTouchSync=new _,this.backgroundSurface.pipe(this.parentCubeMouseSync),this.backgroundSurface.pipe(this.parentCubeTouchSync),this.parentCubeMouseSync.on("update",function(t){this.position[0]+=t.delta[0],this.position[1]+=t.delta[1]}.bind(this)),this.parentCubeMouseSync.on("end",function(){return Math.abs(this.position[0])<5&&Math.abs(this.position[1])<5?(this.position=[0,0],!1):(Math.abs(this.position[0])>Math.abs(this.position[1])?this.left=this.position[0]>0?-1:1:this.down=this.position[1]>0?1:-1,h.call(this,this.left,this.down),void this.transitionable.set(1,{duration:500,curve:v.outBack}))}.bind(this)),this.parentCubeTouchSync.on("update",function(t){this.position[0]+=t.delta[0],this.position[1]+=t.delta[1]}.bind(this)),this.parentCubeTouchSync.on("end",function(){return Math.abs(this.position[0])<5&&Math.abs(this.position[1])<5?(this.position=[0,0],!1):(Math.abs(this.position[0])>Math.abs(this.position[1])?this.left=this.position[0]>0?-1:1:this.down=this.position[1]>0?1:-1,h.call(this,this.left,this.down),void this.transitionable.set(1,{duration:500,curve:v.outBack}))}.bind(this))}function u(){this.gameBoard.pipe(this._eventInput),this.gameBoard.subscribe(this._eventOutput),this._eventInput.on("movingCubeToRL",function(t){this._eventOutput.emit("movingCubeToGL",t)}.bind(this)),this._eventInput.on("is2d",function(t){t?(this.backgroundSurface.unpipe(this.parentCubeMouseSync),this.backgroundSurface.setProperties({pointerEvents:"none"})):(this.backgroundSurface.pipe(this.parentCubeMouseSync),this.backgroundSurface.setProperties({pointerEvents:"auto"})),this._eventOutput.emit("is2d",t)}.bind(this))}function h(t,e){var i;1===this.state[2]?(i=this.state,0!==this.nVec[1]?0!==e?(this.index=[e*this.nVec[1],0,0],this.state=[0,e*this.nVec[1],0],this.nVec=[0,0,-e*i[2]]):(this.index=[0,t*this.nVec[1],0],this.state=[-t*this.nVec[1],0,0],this.rVec=[0,0,-t*i[2]]):0!==e?(this.index=[0,-e*this.nVec[0],0],this.state=[e*this.nVec[0],0,0],this.nVec=[0,0,-e*i[2]]):(this.index=[t*this.nVec[0],0,0],this.state=[0,t*this.nVec[0],0],this.rVec=[0,0,-t*i[2]])):-1===this.state[2]?(i=this.state,0!==this.nVec[1]?0!==e?(this.index=[-e*this.nVec[1],0,0],this.state=[0,e*this.nVec[1],0],this.nVec=[0,0,-e*i[2]]):(this.index=[0,t*this.nVec[1],0],this.state=[t*this.nVec[1],0,0],this.rVec=[0,0,-t*i[2]]):0!==e?(this.index=[0,e*this.nVec[0],0],this.state=[e*this.nVec[0],0,0],this.nVec=[0,0,-e*i[2]]):(this.index=[t*this.nVec[0],0,0],this.state=[0,-t*this.nVec[0],0],this.rVec=[0,0,-t*i[2]])):1===this.state[1]?(i=this.state,0!==this.nVec[2]?0!==e?(this.index=[-e*this.nVec[2],0,0],this.state=[0,0,e*this.nVec[2]],this.nVec=[0,-e*i[1],0]):(this.index=[0,0,t*this.nVec[2]],this.state=[t*this.nVec[2],0,0],this.rVec=[0,-t*i[1],0]):0!==e?(this.index=[0,0,e*this.nVec[0]],this.state=[e*this.nVec[0],0,0],this.nVec=[0,-e*i[1],0]):(this.index=[t*this.nVec[0],0,0],this.state=[0,0,-t*this.nVec[0]],this.rVec=[0,-t*i[1],0])):-1===this.state[1]?(i=this.state,0!==this.nVec[2]?0!==e?(this.index=[e*this.nVec[2],0,0],this.state=[0,0,e*this.nVec[2]],this.nVec=[0,-e*i[1],0]):(this.index=[0,0,t*this.nVec[2]],this.state=[-t*this.nVec[2],0,0],this.rVec=[0,-t*i[1],0]):0!==e?(this.index=[0,0,-e*this.nVec[0]],this.state=[e*this.nVec[0],0,0],this.nVec=[0,-e*i[1],0]):(this.index=[t*this.nVec[0],0,0],this.state=[0,0,t*this.nVec[0]],this.rVec=[0,-t*i[1],0])):1===this.state[0]?(i=this.state,0!==this.nVec[2]?0!==e?(this.index=[0,e*this.nVec[2],0],this.state=[0,0,e*this.nVec[2]],this.nVec=[-e*i[0],0,0]):(this.index=[0,0,t*this.nVec[2]],this.state=[0,-t*this.nVec[2],0],this.rVec=[-t*i[0],0,0]):0!==e?(this.index=[0,0,-e*this.nVec[1]],this.state=[0,e*this.nVec[1],0],this.nVec=[-e*i[0],0,0]):(this.index=[0,t*this.nVec[1],0],this.state=[0,0,t*this.nVec[1]],this.rVec=[-t*i[0],0,0])):(i=this.state,0!==this.nVec[2]?0!==e?(this.index=[0,-e*this.nVec[2],0],this.state=[0,0,e*this.nVec[2]],this.nVec=[-e*i[0],0,0]):(this.index=[0,0,t*this.nVec[2]],this.state=[0,t*this.nVec[2],0],this.rVec=[-t*i[0],0,0]):0!==e?(this.index=[0,0,e*this.nVec[1]],this.state=[0,e*this.nVec[1],0],this.nVec=[-e*i[0],0,0]):(this.index=[0,t*this.nVec[1],0],this.state=[0,0,-t*this.nVec[1]],this.rVec=[-t*i[0],0,0]))}function c(t,e){var i={"1,0,0":{rotate:[0,-1,0],"0,-1,0":[0,0,0],"0,1,0":[2,0,0],"0,0,1":[1,0,0],"0,0,-1":[-1,0,0]},"-1,0,0":{rotate:[0,1,0],"0,-1,0":[0,0,0],"0,1,0":[2,0,0],"0,0,1":[1,0,0],"0,0,-1":[-1,0,0]},"0,-1,0":{rotate:[-1,0,0],"0,0,-1":[0,0,0],"0,0,1":[0,2,0],"1,0,0":[0,1,0],"-1,0,0":[0,-1,0]},"0,1,0":{rotate:[1,0,0],"0,0,1":[0,0,0],"0,0,-1":[0,2,0],"1,0,0":[0,-1,0],"-1,0,0":[0,1,0]},"0,0,-1":{rotate:[0,2,0],"0,-1,0":[0,0,0],"0,1,0":[0,0,2],"1,0,0":[0,0,-1],"-1,0,0":[0,0,1]},"0,0,1":{rotate:[0,0,0],"0,-1,0":[0,0,0],"0,1,0":[0,0,2],"1,0,0":[0,0,-1],"-1,0,0":[0,0,1]}},s=i[t].rotate,n=i[t][e],o=d.multiply(d.rotate(s[0]*Math.PI/2,s[1]*Math.PI/2,s[2]*Math.PI/2),d.rotate(n[0]*Math.PI/2,n[1]*Math.PI/2,n[2]*Math.PI/2));return o}var l=t("famous/core/View"),p=t("famous/core/Surface"),d=t("famous/core/Transform"),f=t("famous/core/Modifier"),m=t("famous/transitions/Transitionable"),v=t("famous/transitions/Easing"),g=t("views/GameBoard"),y=t("famous/inputs/MouseSync"),_=t("famous/inputs/TouchSync");s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.prototype.setDestroyerPosition=function(t){this.gameBoard.setDestroyerPosition(t)},s.prototype.startNewGame=function(t){this.state=[0,0,1],this.nVec=[0,-1,0],this.rVec=[1,0,0],this.index=[0,0,0],this.gameBoard.startNewGame(t),this.transitionable.set(1,{duration:0})},s.DEFAULT_OPTIONS={mainCubeSize:400,destroyer:void 0,smallCube:void 0},i.exports=s}),i("views/GameLogic",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/core/Modifier","famous/utilities/Timer","views/RotatingLogic"],function(t,e,i){function s(){x.apply(this,arguments);var t=new S;this.node=this.add(t),this.isInDemoView=!1,this.showMenu=!1,this.ready=!0,this.crushSound=new Howl({urls:["content/sounds/Smack.wav"]}),this.completeSound=new Howl({urls:["content/sounds/level-up.wav"]}),this.transitionSound=new Howl({urls:["content/sounds/swoosh.wav"]}),this.twoDDataStructure={},this.is2d=!1,this.board=void 0,this.destroyerCubeLocation=void 0,r.call(this),c.call(this),h.call(this),d.call(this),l.call(this),n.call(this)}function n(){function t(){o.setTransform(M.translate(-50,-50,0),{duration:500,curve:"easeInOut"}),a.setTransform(M.translate(-100,-50,0),{duration:400,curve:"easeInOut"}),c.setTransform(M.translate(-140,-50,0),{duration:300,curve:"easeInOut"}),O.setTimeout(function(){this.ready=!0}.bind(this),500)}function e(){o.setTransform(M.translate(-50,0,0),{duration:300,curve:"easeInOut"}),a.setTransform(M.translate(-100,0,0),{duration:400,curve:"easeInOut"}),c.setTransform(M.translate(-140,0,0),{duration:500,curve:"easeInOut"}),O.setTimeout(function(){this.ready=!0}.bind(this),500)}var i=new T({content:"Menu",properties:{textAlign:"center",fontSize:".8rem",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",zIndex:4,lineHeight:"45px",cursor:"pointer"}}),s=new S({size:[50,50],align:[1,0],origin:[1,0]}),n=new T({content:"Restart",properties:{textAlign:"center",fontSize:".8rem",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",zIndex:4,lineHeight:"45px",cursor:"pointer"}}),o=new S({size:[50,50],align:[1,0],origin:[1,0],transform:M.translate(-50,-50,0)}),r=new T({content:"Levels",properties:{textAlign:"center",fontSize:".8rem",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",zIndex:4,lineHeight:"45px",cursor:"pointer"}}),a=new S({size:[50,50],align:[1,0],origin:[1,0],transform:M.translate(-100,-50,0)}),h=new T({content:"Exit",properties:{textAlign:"center",fontSize:".8rem",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",zIndex:4,lineHeight:"45px",cursor:"pointer"}}),c=new S({size:[50,50],align:[1,0],origin:[1,0],transform:M.translate(-140,-50,0)});this.node.add(s).add(i),this.node.add(a).add(r),this.node.add(o).add(n),this.node.add(c).add(h),i.on("click",function(){this.ready&&(this.showMenu?(this.ready=!1,t.call(this),this.showMenu=!this.showMenu):(this.ready=!1,e.call(this),this.showMenu=!this.showMenu))}.bind(this)),n.on("click",function(){return this.showMenu?(u.call(this),this.showMenu=!1,void O.setTimeout(t,500)):!1}.bind(this)),h.on("click",function(){return this.showMenu?(this._eventOutput.emit("mainMenu"),this.showMenu=!1,void O.setTimeout(t,500)):!1}.bind(this)),r.on("click",function(){return this.showMenu?(this._eventOutput.emit("levels"),this.showMenu=!1,void O.setTimeout(t,500)):!1}.bind(this))}function o(t){if(window.localStorage&&null!==window.localStorage){var e=window.localStorage.getItem("famospace").split(",");"0"===e[t]&&this._eventOutput.emit("levelCompleted",t)}}function r(){(window.innerWidth>825||window.innerHeight>825)&&(this.options.mainCubeSize=400)}function a(t){this.exitAnimMod.setTransform(M.rotate(0,0,0)),this.levelIndex=t.levelNum,this.starter=t,this.board=b(t.level.smallCube),this.destroyerCubeLocation=t.level.destroyer,this.rotatingLogic.startNewGame(t.level),this._eventOutput.trigger("is2d",!1),this.perspectiveButton.setContent("2D"),this.is2d=!1,this.twoDDataStructure={}}function u(){a.call(this,this.starter)}function h(){this.perspectiveButton=new T({size:[void 0,void 0],content:"<div>2D</div>",properties:{fontSize:"3rem",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",textAlign:"center",lineHeight:"65px",verticalAlign:"middle",color:"white",backgroundColor:"#34A4CC",borderRadius:"20px",border:"3px solid #738F99",cursor:"pointer",zIndex:5}}),this.perspectiveButtonMod=new S({size:[75,75],align:[.5,.5],origin:function(){return this.options.mainCubeSize<400?window.innerWidth<window.innerHeight?[.5,.98]:[.98,.5]:window.innerHeight>window.innerWidth?window.innerHeight<1e3?[.5,.97]:[.5,.83]:window.innerWidth<1100?[.95,.5]:[.83,.5]}.bind(this)}),this.perspectiveButton.on("click",function(){this.is2d===!1&&g.call(this)===!0?(this.isInDemoView||this.transitionSound.play(),this._eventOutput.trigger("is2d",!0),this.perspectiveButton.setContent("3D"),this.is2d=!this.is2d):this.is2d===!1&&g.call(this)===!1?p.call(this):(this.isInDemoView||this.transitionSound.play(),this._eventOutput.trigger("is2d",!1),this.perspectiveButton.setContent("2D"),this.is2d=!this.is2d,w.call(this))}.bind(this)),this.node.add(this.perspectiveButtonMod).add(this.perspectiveButton)}function c(){this.exitAnimMod=new S,this.rotatingLogic=new C({mainCubeSize:this.options.mainCubeSize,destroyer:this.options.destroyer,smallCube:this.options.smallCube}),this.node.add(this.exitAnimMod).add(this.rotatingLogic)}function l(){this.rotatingLogic.pipe(this._eventInput),this.rotatingLogic.subscribe(this._eventOutput),this._eventInput.on("startGame",function(t){a.call(this,t)}.bind(this))}function p(){this.transitionSound.play(),this._eventOutput.trigger("is2d",!0),O.setTimeout(function(){this.transitionSound.play(),this._eventOutput.trigger("is2d",!1)}.bind(this),600)}function d(){this._eventInput.on("movingCubeToGL",function(t){for(var e=this.destroyerCubeLocation.slice(),i=!1,s=0;s<this.destroyerCubeLocation.length;s++){var n=this.destroyerCubeLocation[s]+this.rotatingLogic.rVec[s]*t[0]+this.rotatingLogic.nVec[s]*t[1];n>=0&&3>=n&&(e[s]=n,i=!0)}if(i){var o=f.call(this,e);o&&(this.destroyerCubeLocation=o,m.call(this,o),this.rotatingLogic.setDestroyerPosition(o))}}.bind(this))}function f(t){var e=y(this.rotatingLogic.nVec,this.rotatingLogic.rVec,this.rotatingLogic.state),i=[t[e.x],t[e.y]].join("");if(this.twoDDataStructure[i]&&this.twoDDataStructure[i].length>0){var s=this.twoDDataStructure[i].pop();return s}return!1}function m(t){for(var e=0;e<this.board.length;e++)if(this.board[e][0]===t[0]&&this.board[e][1]===t[1]&&this.board[e][2]===t[2])return this.board.splice(e,1),this.isInDemoView||this.crushSound.play(),void(this.board.length<1&&(this.isInDemoView||v.call(this),O.setTimeout(function(){this._eventOutput.emit("levels")}.bind(this),500)))}function v(){this.completeSound.play(),o.call(this,this.levelIndex),this._eventOutput.trigger("is2d",!1),this.exitAnimMod.setTransform(M.rotate(4*Math.PI*Math.random(),4*Math.PI*Math.random(),4*Math.PI*Math.random()),{duration:1200,curve:"easeInOut"})}function g(){_.call(this);var t=y.call(this,this.rotatingLogic.nVec,this.rotatingLogic.rVec,this.rotatingLogic.state),e=this.destroyerCubeLocation,i="";i+=e[t.x],i+=e[t.y];var s=this.twoDDataStructure,n=s[i];return n&&(t.zPosNeg>0&&e[t.z]<n[0][t.z]||t.zPosNeg<0&&e[t.z]>n[0][t.z])?!1:!0}function y(t,e,i){var s,n,o,r={};for(s=0;s<t.length;s++)if(0!==t[s]){r.y=s,r.yPosNeg=1*t[s];break}for(n=0;n<e.length;n++)if(0!==e[n]){r.x=n,r.xPosNeg=1*e[n];break}for(o=0;o<i.length;o++)if(0!==i[o]){r.z=o,r.zPosNeg=1*i[o];break}return r}function _(){for(var t,e=y(this.rotatingLogic.nVec,this.rotatingLogic.rVec,this.rotatingLogic.state),i="",s=b(this.board),n=0;n<s.length;n++)t=s[n],i="",i+=t[e.x],i+=t[e.y],this.twoDDataStructure[i]?(this.twoDDataStructure[i].push(t),this.twoDDataStructure[i].sort(e.zPosNeg<0?function(t,i){return i[e.z]-t[e.z]}:function(t,i){return t[e.z]-i[e.z]})):this.twoDDataStructure[i]=[t]}function w(){this.twoDDataStructure={}}function b(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].slice());return e}var x=t("famous/core/View"),T=t("famous/core/Surface"),M=t("famous/core/Transform"),S=t("famous/core/Modifier"),O=t("famous/utilities/Timer"),C=t("views/RotatingLogic");
s.prototype=Object.create(x.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={mainCubeSize:200,destroyer:[-1e3,-1e3,-1e3],smallCube:[[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3],[-1e3,-1e3,-1e3]]},s.prototype.startNewGame=a,s.prototype.setSoundOff=function(t){this.isInDemoView=t},s.prototype.removeSmallCube=m,i.exports=s}),i("views/../../content/levels",["require","exports","module"],function(t,e,i){var s={demoLevel:{smallCube:[[1,2,0],[2,0,0],[3,1,0],[0,0,1],[2,3,1],[1,0,2],[3,3,2],[0,2,3],[1,3,3],[2,1,3],[3,0,3]],destroyer:[0,3,0]},introVideo:{smallCube:[[0,3,1],[1,0,1],[2,0,2],[0,2,2],[3,0,3],[0,1,3]],destroyer:[3,3,0]},levels:[{smallCube:[[1,3,3],[2,3,3],[3,3,3]],destroyer:[0,3,3]},{smallCube:[[0,2,0],[3,1,0],[3,0,3]],destroyer:[0,3,3]},{smallCube:[[0,0,3],[0,1,3],[0,2,3],[1,3,3],[2,3,3],[3,3,3]],destroyer:[0,3,3]},{smallCube:[[0,0,0],[1,0,1],[2,0,2],[3,1,0],[3,2,1],[3,3,2]],destroyer:[0,3,3]},{smallCube:[[1,2,0],[2,0,0],[3,1,0],[0,0,1],[2,3,1],[1,0,2],[3,3,2],[0,2,3],[1,3,3],[2,1,3],[3,0,3]],destroyer:[0,3,0]},{smallCube:[[0,0,0],[0,1,0],[0,2,0],[1,0,0],[2,0,0],[3,0,0],[3,0,1],[3,0,2],[3,0,3],[3,1,3],[3,2,3],[3,3,3]],destroyer:[0,3,0]},{smallCube:[[0,0,0],[0,0,1],[0,0,2],[1,0,3],[2,0,3],[3,0,3],[2,0,0],[3,0,1],[3,3,0]],destroyer:[0,3,3]},{smallCube:[[0,0,0],[0,0,1],[0,0,2],[3,1,0],[3,2,0],[3,3,0],[1,0,3],[2,0,3],[3,0,3],[0,1,3],[0,2,3],[0,3,3]],destroyer:[0,0,3]},{smallCube:[[1,2,0],[3,2,1],[0,3,2],[1,0,2],[2,0,2],[3,0,2]],destroyer:[2,3,3]},{smallCube:[[0,0,0],[1,0,0],[0,1,0],[0,2,0],[1,0,2],[3,0,2],[3,0,3],[3,1,3],[3,2,3]],destroyer:[0,3,3]},{smallCube:[[3,0,0],[0,1,0],[3,2,0],[0,3,0],[2,3,0],[0,3,1],[3,3,1],[0,3,2],[3,1,3],[1,3,3],[2,3,3],[3,3,3]],destroyer:[0,3,3]},{smallCube:[[0,1,0],[0,3,0],[3,1,0],[3,2,0],[3,3,0],[0,0,3],[0,1,3],[0,2,3],[3,2,3]],destroyer:[3,0,3]}]};i.exports=s}),i("views/DemoView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/modifiers/StateModifier","famous/transitions/Transitionable","famous/utilities/Timer","famous/core/Modifier","famous/transitions/Easing","views/GameLogic","../../content/levels"],function(t,e,i){function s(){u.apply(this,arguments),this.rootModifier=new f,this.node=this.add(this.rootModifier),this.skip=!1,n.call(this),o.call(this),d.setTimeout(function(){this.skip||(a.call(this),r.call(this))}.bind(this),6e3)}function n(){var t=new h({size:[25,25],content:"Skip",properties:{fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",textAlign:"center",fontSize:"1.5rem",cursor:"pointer"}}),e=new l({align:[1,0],origin:[1,0],transform:c.translate(-22,0,0)});t.on("touchstart",function(){this.skip=!0,this._eventOutput.emit("demoToMainMenu")}.bind(this)),t.on("click",function(){this.skip=!0,this._eventOutput.emit("demoToMainMenu")}.bind(this)),d.setTimeout(function(){e.setOpacity(0,{curve:"easeInOut",duration:250})}.bind(this),25e3),this.node.add(e).add(t)}function o(){var t=new h({size:[200,100],content:"Crush the Grey Cubes",properties:this.options.crashTextProps}),e=new l({align:[.5,0],origin:[.5,0],transform:c.multiply(c.rotateY(Math.PI/2),c.translate(100,window.innerHeight/2-50,400))}),i=new h({size:[200,100],content:"Manipulate in 3D",properties:this.options.crashTextProps}),s=new l({align:[.5,0],origin:[.5,0],transform:c.multiply(c.rotateX(-Math.PI/2),c.translate(0,window.innerHeight/2+1e3,1e3))}),n=new h({size:[200,100],content:"Destroy in 2D",properties:this.options.crashTextProps}),o=new l({align:[.5,0],origin:[.5,0],transform:c.multiply(c.rotateY(-Math.PI/2),c.translate(100,window.innerHeight/2+50,400))});this.node.add(e).add(t),this.node.add(s).add(i),this.node.add(o).add(n),d.setTimeout(function(){e.setTransform(c.multiply(c.translate(0,window.innerHeight/2-50,0),c.rotateY(0)),{duration:1e3,curve:"easeInOut"})},650),d.setTimeout(function(){s.setTransform(c.multiply(c.translate(0,window.innerHeight/2,0),c.rotateX(0)),{duration:1e3,curve:"easeInOut"})},2150),d.setTimeout(function(){o.setTransform(c.multiply(c.translate(0,window.innerHeight/2+50,0),c.rotateY(0)),{duration:1e3,curve:"easeInOut"})},3650),d.setTimeout(function(){e.setOpacity(0,{duration:500,curve:m.inCubic}),s.setOpacity(0,{duration:500,curve:m.inCubic}),o.setOpacity(0,{duration:500,curve:m.inCubic})}.bind(this),5500)}function r(){var t=2e3,e=new p(0),i=new p(0),s=new p(0),n=new p(0),o=new h({opacity:0,properties:this.options.instrucTextProps}),r=new f({size:[500,50],align:[.5,.5],origin:[.5,.5],transform:c.translate(1e3,0,0),opacity:function(){return e.get()}});this.node.add(r).add(o),d.setTimeout(function(){o.setContent("Swipe to Rotate"),e.set(1,{duration:1e3,curve:m.inBack}),r.setTransform(c.translate(0,0,0),{duration:1500,curve:"easeInOut"}),e.set(0,{duration:1e3,curve:m.inBack})},t);var a=new h({opacity:0,properties:this.options.instrucTextProps}),u=new f({size:[500,50],align:[.5,.5],origin:[.5,.5],transform:c.translate(0,0,0),opacity:function(){return i.get()}});this.node.add(u).add(a),t+=2300,d.setTimeout(function(){a.setContent("Toggle<br/>2D and 3D"),i.set(1,{duration:1e3,curve:m.inBack}),i.set(0,{duration:1e3,curve:m.inBack})},t);var l=new h({opacity:0,properties:this.options.instrucTextProps}),v=new f({size:[500,50],align:[.5,.5],origin:[.5,.5],transform:c.translate(0,-25,0),opacity:function(){return s.get()}});this.node.add(v).add(l),t+=2e3,d.setTimeout(function(){l.setContent("Crush<br/>adjacent<br/>cubes"),s.set(1,{duration:1e3,curve:m.inBack}),s.set(0,{duration:1e3,curve:m.inBack})},t);var g=new h({opacity:0,properties:this.options.instrucTextProps}),y=new f({size:[500,50],align:[.5,.5],origin:[.5,.5],opacity:function(){return n.get()}});this.node.add(y).add(g),t+=3e3,d.setTimeout(function(){g.setContent("Clear the Cube"),n.set(1,{duration:1e3,curve:m.inBack}),n.set(0,{duration:1e3,curve:m.inBack})},t)}function a(){var t=5e3,e=new f;this.gameLogic=new v,this.gameLogic.startNewGame({level:g.introVideo}),this.gameLogic.setSoundOff(!0);var i=new f({align:[.5,.5],origin:[.5,.5],transform:c.multiply(c.rotate(Math.PI/2,Math.PI/2,Math.PI/2),c.translate(1500,0,0))});this.node=this.add(e),this.node.add(i).add(this.gameLogic.rotatingLogic),this.node.add(this.gameLogic.perspectiveButtonMod).add(this.gameLogic.perspectiveButton),this.gameLogic.perspectiveButton.setProperties({pointerEvents:"none"}),this.gameLogic.perspectiveButtonMod.setTransform(c.translate(0,2e3,0),{duration:0,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.translate(0,0,0),{duration:2e3,curve:"easeInOut"}),i.setTransform(c.translate(0,0,0),{duration:2500,curve:"easeInOut"}),i.setTransform(c.rotate(0,-Math.PI/2,0),{duration:1e3,curve:"easeInOut"}),d.setTimeout(function(){this._eventOutput.emit("is2dDemo",!0),this.gameLogic.perspectiveButton.setContent("3D"),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(.95,.95,1),{duration:200,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(1,1,1),{duration:200,curve:"easeInOut"})}.bind(this),t),t+=2700,d.setTimeout(function(){this.gameLogic.rotatingLogic.setDestroyerPosition([0,3,1]),this.gameLogic.removeSmallCube([0,3,1])}.bind(this),t),t+=2e3,d.setTimeout(function(){this._eventOutput.emit("is2dDemo",!1),this.gameLogic.perspectiveButton.setContent("2D"),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(.95,.95,1),{duration:200,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(1,1,1),{duration:200,curve:"easeInOut"})}.bind(this),t),t+=1200,d.setTimeout(function(){i.setTransform(c.rotate(Math.PI/2,3*Math.PI/2,0),{duration:1e3,curve:"easeInOut"})}.bind(this),t),t+=1500,d.setTimeout(function(){this._eventOutput.emit("is2dDemo",!0),this.gameLogic.perspectiveButton.setContent("3D"),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(.95,.95,1),{duration:200,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(1,1,1),{duration:200,curve:"easeInOut"})}.bind(this),t),t+=1200,d.setTimeout(function(){this.gameLogic.rotatingLogic.setDestroyerPosition([0,2,2]),this.gameLogic.removeSmallCube([0,2,2])}.bind(this),t),t+=600,d.setTimeout(function(){this.gameLogic.rotatingLogic.setDestroyerPosition([0,1,3]),this.gameLogic.removeSmallCube([0,1,3])}.bind(this),t),t+=1e3,d.setTimeout(function(){this._eventOutput.emit("is2dDemo",!1),this.gameLogic.perspectiveButton.setContent("2D"),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(.95,.95,1),{duration:200,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(1,1,1),{duration:200,curve:"easeInOut"})}.bind(this),t),t+=1200,d.setTimeout(function(){i.setTransform(c.rotate(Math.PI,-Math.PI/2,0),{duration:1e3,curve:"easeInOut"})}.bind(this),t),t+=1500,d.setTimeout(function(){this._eventOutput.emit("is2dDemo",!0),this.gameLogic.perspectiveButton.setContent("3D"),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(.95,.95,1),{duration:200,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(1,1,1),{duration:200,curve:"easeInOut"})}.bind(this),t),t+=1200,d.setTimeout(function(){this.gameLogic.rotatingLogic.setDestroyerPosition([3,0,3]),this.gameLogic.removeSmallCube([3,0,3])}.bind(this),t),t+=600,d.setTimeout(function(){this.gameLogic.rotatingLogic.setDestroyerPosition([2,0,2]),this.gameLogic.removeSmallCube([2,0,2])}.bind(this),t),t+=600,d.setTimeout(function(){this.gameLogic.rotatingLogic.setDestroyerPosition([1,0,1]),this.gameLogic.removeSmallCube([1,0,1])}.bind(this),t),t+=1200,d.setTimeout(function(){this._eventOutput.emit("is2dDemo",!1),this.gameLogic.perspectiveButton.setContent("2D"),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(.95,.95,1),{duration:200,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.scale(1,1,1),{duration:200,curve:"easeInOut"})}.bind(this),t),t+=1e3,d.setTimeout(function(){i.setTransform(c.translate(-1e3,0,0),{duration:1e3,curve:"easeInOut"}),this.gameLogic.perspectiveButtonMod.setTransform(c.translate(-1e3,0,0),{duration:1e3,curve:"easeInOut"})}.bind(this),t),t+=500,d.setTimeout(function(){this._eventOutput.emit("demoToMainMenu")}.bind(this),t)}var u=t("famous/core/View"),h=t("famous/core/Surface"),c=t("famous/core/Transform"),l=t("famous/modifiers/StateModifier"),p=t("famous/transitions/Transitionable"),d=t("famous/utilities/Timer"),f=t("famous/core/Modifier"),m=t("famous/transitions/Easing"),v=t("views/GameLogic"),g=t("../../content/levels");s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={crashTextProps:{fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",textAlign:"center",fontSize:"1.2rem"},instrucTextProps:{textAlign:"center",fontSize:"2rem",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",zIndex:30}},i.exports=s}),i("views/LevelSelectionView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Modifier","../../content/levels"],function(t,e,i){function s(){l.apply(this,arguments);var t=new d({size:[void 0,void 0]});this.node=this.add(t),this.levelSurfaces=[],n.call(this),o.call(this),c.call(this),a.call(this),u.call(this),h.call(this),r.call(this)}function n(){return window.localStorage&&null!==window.localStorage?(null===window.localStorage.getItem("famospace")&&window.localStorage.setItem("famospace",[0,0,0,0,0,0,0,0,0,0,0,0]),void(this.localStorage=window.localStorage.getItem("famospace").split(","))):void(this.localStorage=!1)}function o(){var t=this.options.boxSize*(this.options.row+3),e=this.options.boxSize*(this.options.column+5);(window.innerWidth<t||window.innerHeight<e)&&(this.options.boxSize=50,this.options.headerFontSize="1.8rem",this.options.lineHeight="40px",this.options.boxFontSize="1rem")}function r(){this._eventInput.on("levelCompleted",function(t){this.localStorage[t]=1,window.localStorage.setItem("famospace",this.localStorage),this.levelSurfaces[t].setProperties({color:"black"})}.bind(this))}function a(){var t=new d({size:[window.innerWidth,this.options.boxSize],origin:[.5,.1],align:[0,0]}),e=new p({content:"Level Selection",properties:{textAlign:"center",verticalAlign:"middle",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:this.options.headerFontSize}});this.node.add(t).add(e)}function u(){for(var t=1,e=0;e<this.options.column;e++)for(var i=0;i<this.options.row;i++){var s=new d({size:[this.options.boxSize,this.options.boxSize],origin:[1/(this.options.row+1)*(i+1),1/(this.options.column+2)*(e+2)],align:[.5,.5]}),n=new p({content:t,properties:{border:"3px solid #738F99",borderRadius:"7px",textAlign:"center",lineHeight:this.options.lineHeight,fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:this.options.boxFontSize,backgroundColor:"#34A4CC",color:"white",cursor:"pointer"}});this.levelSurfaces.push(n),this.localStorage&&"1"===this.localStorage[t-1]&&n.setProperties({color:"black"}),n.on("click",function(t){var e={level:f.levels[t-1],levelNum:t-1};this.emit("startGameToL",e)}.bind(n,t)),n.pipe(this),this.node.add(s).add(n),t++}}function h(){this._eventInput.on("startGameToL",function(t){this._eventOutput.emit("startGame",t)}.bind(this))}function c(){var t=new p({content:"Back",properties:{textAlign:"center",fontSize:".8rem",fontFamily:"HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",zIndex:4,lineHeight:"45px",cursor:"pointer"}}),e=new d({size:[50,50],align:[1,0],origin:[1,0]});this.node.add(e).add(t),t.on("click",function(){this._eventOutput.emit("mainMenu")}.bind(this))}var l=t("famous/core/View"),p=t("famous/core/Surface"),d=t("famous/core/Modifier"),f=t("../../content/levels");s.DEFAULT_OPTIONS={row:3,column:4,boxSize:75,headerFontSize:"3rem",lineHeight:"65px",boxFontSize:"1.8rem"},s.prototype=Object.create(l.prototype),s.prototype.constructor=s,i.exports=s}),i("views/MenuView",["require","exports","module","famous/core/View","famous/core/Transform","famous/core/Modifier","famous/utilities/Timer","famous/core/RenderNode","famous/views/Lightbox","views/AboutView","views/MainMenuView","views/DemoView","views/GameLogic","views/LevelSelectionView"],function(t,e,i){function s(){u.apply(this,arguments),this.views={},this.playingDemo=!0,this.ready=!0,n.call(this),a.call(this),o.call(this),r.call(this)}function n(){this.views.about=new f,this.views.mainMenu=new m,this.views.demoView=new v,this.views.levelSelection=new y}function o(){this.lightbox=new d(this.options.lightboxOpts),this.add(this.lightbox),this.lightbox.show(this.views.demoView)}function r(){this.views.about.pipe(this),this.views.demoView.pipe(this),this.views.mainMenu.pipe(this),this.views.levelSelection.pipe(this),this.views.levelSelection.pipe(this.game),this.game.pipe(this.views.levelSelection),this.game.pipe(this),this._eventInput.on("is2dDemo",function(t){this.playingDemo&&this._eventOutput.emit("is2d",t)}.bind(this)),this._eventInput.on("is2d",function(t){this._eventOutput.emit("is2d",t)}.bind(this)),this._eventInput.on("demoToMainMenu",function(){this.playingDemo&&(this.lightbox.show(this.views.mainMenu),this.playingDemo=!1)}.bind(this)),this._eventInput.on("startGame",function(){this.ready&&(this.ready=!1,this.lightbox.show(this.views.game)),l.setTimeout(function(){this.ready=!0}.bind(this),650)}.bind(this)),this._eventInput.on("about",function(){this.ready&&(this.ready=!1,this.lightbox.show(this.views.about)),l.setTimeout(function(){this.ready=!0}.bind(this),650)}.bind(this)),this._eventInput.on("levels",function(){this.ready&&(this.ready=!1,this.lightbox.show(this.views.levelSelection)),l.setTimeout(function(){this.ready=!0}.bind(this),650)}.bind(this)),this._eventInput.on("mainMenu",function(){this.ready&&(this.ready=!1,this.lightbox.show(this.views.mainMenu)),l.setTimeout(function(){this.ready=!0}.bind(this),650)}.bind(this))}function a(){var t=new p;this.game=new g;var e=new c({align:[.5,.5],origin:[.5,.5]});t.add(e).add(this.game),this.views.game=t}var u=t("famous/core/View"),h=t("famous/core/Transform"),c=t("famous/core/Modifier"),l=t("famous/utilities/Timer"),p=t("famous/core/RenderNode"),d=t("famous/views/Lightbox"),f=t("views/AboutView"),m=t("views/MainMenuView"),v=t("views/DemoView"),g=t("views/GameLogic"),y=t("views/LevelSelectionView");s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={lightboxOpts:{inOrigin:[0,0],outOrigin:[0,0],showOrigin:[0,0],inTransform:h.translate(500,0,0),outTransform:h.translate(-500,0,0),inTransition:{duration:650,curve:"easeOut"},outTransition:{duration:650,curve:"easeOut"}}},i.exports=s}),i("main",["require","exports","module","famous/core/Engine","famous/core/Modifier","views/FpsMeterView","views/MenuView","famous/transitions/Easing"],function(t){var e=t("famous/core/Engine"),i=t("famous/core/Modifier"),s=t("views/FpsMeterView"),n=t("views/MenuView"),o=t("famous/transitions/Easing"),r=new s;if("undefined"==typeof Howl)return console.log("Howler not loaded.  Reloading."),window.location.reload(!0);var a=new i({align:[.5,.5],origin:[.5,.5]}),u=e.createContext(),h=window.innerWidth<600||window.innerHeight<600?500:1e3;u.setPerspective(h);var c=new n;u.add(r),u.add(a).add(c),c._eventOutput.on("is2d",function(t){t?u.setPerspective(5e5,{duration:200,curve:o.inQuint}):u.setPerspective(h,{duration:200,curve:o.outQuint})})}),e(["main"])}();